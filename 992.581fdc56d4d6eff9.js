(self.webpackChunkweb_mzima_client=self.webpackChunkweb_mzima_client||[]).push([[992],{59273:(B,k,g)=>{var M,O;!function(L,I){"use strict";M=function(){var I=function(){var x=window.Element.prototype;if(x.matches)return"matches";if(x.matchesSelector)return"matchesSelector";for(var _=["webkit","moz","ms","o"],m=0;m<_.length;m++){var l=_[m]+"MatchesSelector";if(x[l])return l}}();return function(_,m){return _[I](m)}},void 0!==(O=M.call(k,g,k,B))&&(B.exports=O)}(window)},14775:function(B,k,g){var O;typeof window<"u"&&window,void 0!==(O=function(){"use strict";function L(){}var I=L.prototype;return I.on=function(x,_){if(x&&_){var m=this._events=this._events||{},C=m[x]=m[x]||[];return-1==C.indexOf(_)&&C.push(_),this}},I.once=function(x,_){if(x&&_){this.on(x,_);var m=this._onceEvents=this._onceEvents||{};return(m[x]=m[x]||{})[_]=!0,this}},I.off=function(x,_){var m=this._events&&this._events[x];if(m&&m.length){var C=m.indexOf(_);return-1!=C&&m.splice(C,1),this}},I.emitEvent=function(x,_){var m=this._events&&this._events[x];if(m&&m.length){m=m.slice(0),_=_||[];for(var C=this._onceEvents&&this._onceEvents[x],l=0;l<m.length;l++){var p=m[l];C&&C[p]&&(this.off(x,p),delete C[p]),p.apply(this,_)}return this}},I.allOff=function(){delete this._events,delete this._onceEvents},L}.call(k,g,k,B))&&(B.exports=O)},50919:(B,k,g)=>{var M,O,L;L=window,M=[g(59273)],void 0!==(O=function(x){return function(I,x){"use strict";var _={extend:function(l,p){for(var u in p)l[u]=p[u];return l},modulo:function(l,p){return(l%p+p)%p}},m=Array.prototype.slice;_.makeArray=function(l){return Array.isArray(l)?l:null==l?[]:"object"==typeof l&&"number"==typeof l.length?m.call(l):[l]},_.removeFrom=function(l,p){var u=l.indexOf(p);-1!=u&&l.splice(u,1)},_.getParent=function(l,p){for(;l.parentNode&&l!=document.body;)if(x(l=l.parentNode,p))return l},_.getQueryElement=function(l){return"string"==typeof l?document.querySelector(l):l},_.handleEvent=function(l){var p="on"+l.type;this[p]&&this[p](l)},_.filterFindElements=function(l,p){l=_.makeArray(l);var u=[];return l.forEach(function(P){if(P instanceof HTMLElement){if(!p)return void u.push(P);x(P,p)&&u.push(P);for(var F=P.querySelectorAll(p),h=0;h<F.length;h++)u.push(F[h])}}),u},_.debounceMethod=function(l,p,u){u=u||100;var P=l.prototype[p],F=p+"Timeout";l.prototype[p]=function(){clearTimeout(this[F]);var d=arguments,w=this;this[F]=setTimeout(function(){P.apply(w,d),delete w[F]},u)}},_.docReady=function(l){var p=document.readyState;"complete"==p||"interactive"==p?setTimeout(l):document.addEventListener("DOMContentLoaded",l)},_.toDashed=function(l){return l.replace(/(.)([A-Z])/g,function(p,u,P){return u+"-"+P}).toLowerCase()};var C=I.console;return _.htmlInit=function(l,p){_.docReady(function(){var u=_.toDashed(p),P="data-"+u,F=document.querySelectorAll("["+P+"]"),h=document.querySelectorAll(".js-"+u),d=_.makeArray(F).concat(_.makeArray(h)),w=P+"-options",y=I.jQuery;d.forEach(function(E){var i,n=E.getAttribute(P)||E.getAttribute(w);try{i=n&&JSON.parse(n)}catch(f){return void(C&&C.error("Error parsing "+P+" on "+E.className+": "+f))}var a=new l(E,i);y&&y.data(E,p,a)})})},_}(L,x)}.apply(k,M))&&(B.exports=O)},58722:(B,k,g)=>{var O;window,void 0!==(O=function(){"use strict";function I(d){var w=parseFloat(d);return-1==d.indexOf("%")&&!isNaN(w)&&w}var _=typeof console>"u"?function x(){}:function(d){console.error(d)},m=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],C=m.length;function p(d){var w=getComputedStyle(d);return w||_("Style returned "+w+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),w}var P,u=!1;function h(d){if(function F(){if(!u){u=!0;var d=document.createElement("div");d.style.width="200px",d.style.padding="1px 2px 3px 4px",d.style.borderStyle="solid",d.style.borderWidth="1px 2px 3px 4px",d.style.boxSizing="border-box";var w=document.body||document.documentElement;w.appendChild(d);var y=p(d);P=200==Math.round(I(y.width)),h.isBoxSizeOuter=P,w.removeChild(d)}}(),"string"==typeof d&&(d=document.querySelector(d)),d&&"object"==typeof d&&d.nodeType){var w=p(d);if("none"==w.display)return function l(){for(var d={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},w=0;w<C;w++)d[m[w]]=0;return d}();var y={};y.width=d.offsetWidth,y.height=d.offsetHeight;for(var E=y.isBorderBox="border-box"==w.boxSizing,n=0;n<C;n++){var i=m[n],f=parseFloat(w[i]);y[i]=isNaN(f)?0:f}var T=y.paddingLeft+y.paddingRight,D=y.paddingTop+y.paddingBottom,S=y.marginLeft+y.marginRight,W=y.marginTop+y.marginBottom,Y=y.borderLeftWidth+y.borderRightWidth,R=y.borderTopWidth+y.borderBottomWidth,Q=E&&P,J=I(w.width);!1!==J&&(y.width=J+(Q?0:T+Y));var t=I(w.height);return!1!==t&&(y.height=t+(Q?0:D+R)),y.innerWidth=y.width-(T+Y),y.innerHeight=y.height-(D+R),y.outerWidth=y.width+S,y.outerHeight=y.height+W,y}}return h}.call(k,g,k,B))&&(B.exports=O)},28086:(B,k,g)=>{var O,L;window,O=[g(5450),g(58722)],void 0!==(L=function(x,_){"use strict";var m=x.create("masonry");m.compatOptions.fitWidth="isFitWidth";var C=m.prototype;return C._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var l=0;l<this.cols;l++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0},C.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var l=this.items[0],p=l&&l.element;this.columnWidth=p&&_(p).outerWidth||this.containerWidth}var u=this.columnWidth+=this.gutter,P=this.containerWidth+this.gutter,F=P/u,h=u-P%u;F=Math[h&&h<1?"round":"floor"](F),this.cols=Math.max(F,1)},C.getContainerWidth=function(){var l=this._getOption("fitWidth"),u=_(l?this.element.parentNode:this.element);this.containerWidth=u&&u.innerWidth},C._getItemLayoutPosition=function(l){l.getSize();var p=l.size.outerWidth%this.columnWidth,P=Math[p&&p<1?"round":"ceil"](l.size.outerWidth/this.columnWidth);P=Math.min(P,this.cols);for(var h=this[this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition"](P,l),d={x:this.columnWidth*h.col,y:h.y},w=h.y+l.size.outerHeight,y=P+h.col,E=h.col;E<y;E++)this.colYs[E]=w;return d},C._getTopColPosition=function(l){var p=this._getTopColGroup(l),u=Math.min.apply(Math,p);return{col:p.indexOf(u),y:u}},C._getTopColGroup=function(l){if(l<2)return this.colYs;for(var p=[],u=this.cols+1-l,P=0;P<u;P++)p[P]=this._getColGroupY(P,l);return p},C._getColGroupY=function(l,p){if(p<2)return this.colYs[l];var u=this.colYs.slice(l,l+p);return Math.max.apply(Math,u)},C._getHorizontalColPosition=function(l,p){var u=this.horizontalColIndex%this.cols;return u=l>1&&u+l>this.cols?0:u,this.horizontalColIndex=p.size.outerWidth&&p.size.outerHeight?u+l:this.horizontalColIndex,{col:u,y:this._getColGroupY(u,l)}},C._manageStamp=function(l){var p=_(l),u=this._getElementOffset(l),F=this._getOption("originLeft")?u.left:u.right,h=F+p.outerWidth,d=Math.floor(F/this.columnWidth);d=Math.max(0,d);var w=Math.floor(h/this.columnWidth);w-=h%this.columnWidth?0:1,w=Math.min(this.cols-1,w);for(var E=(this._getOption("originTop")?u.top:u.bottom)+p.outerHeight,n=d;n<=w;n++)this.colYs[n]=Math.max(E,this.colYs[n])},C._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var l={height:this.maxY};return this._getOption("fitWidth")&&(l.width=this._getContainerFitWidth()),l},C._getContainerFitWidth=function(){for(var l=0,p=this.cols;--p&&0===this.colYs[p];)l++;return(this.cols-l)*this.columnWidth-this.gutter},C.needsResizeLayout=function(){var l=this.containerWidth;return this.getContainerWidth(),l!=this.containerWidth},m}.apply(k,O))&&(B.exports=L)},18865:(B,k,g)=>{var O,L;window,O=[g(14775),g(58722)],void 0!==(L=function(x,_){"use strict";var C=document.documentElement.style,l="string"==typeof C.transition?"transition":"WebkitTransition",p="string"==typeof C.transform?"transform":"WebkitTransform",u={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[l],P={transform:p,transition:l,transitionDuration:l+"Duration",transitionProperty:l+"Property",transitionDelay:l+"Delay"};function F(n,i){!n||(this.element=n,this.layout=i,this.position={x:0,y:0},this._create())}var h=F.prototype=Object.create(x.prototype);h.constructor=F,h._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},h.handleEvent=function(n){var i="on"+n.type;this[i]&&this[i](n)},h.getSize=function(){this.size=_(this.element)},h.css=function(n){var i=this.element.style;for(var a in n)i[P[a]||a]=n[a]},h.getPosition=function(){var n=getComputedStyle(this.element),i=this.layout._getOption("originLeft"),a=this.layout._getOption("originTop"),f=n[i?"left":"right"],T=n[a?"top":"bottom"],D=parseFloat(f),S=parseFloat(T),W=this.layout.size;-1!=f.indexOf("%")&&(D=D/100*W.width),-1!=T.indexOf("%")&&(S=S/100*W.height),D=isNaN(D)?0:D,S=isNaN(S)?0:S,S-=a?W.paddingTop:W.paddingBottom,this.position.x=D-=i?W.paddingLeft:W.paddingRight,this.position.y=S},h.layoutPosition=function(){var n=this.layout.size,i={},a=this.layout._getOption("originLeft"),f=this.layout._getOption("originTop"),S=a?"right":"left";i[a?"left":"right"]=this.getXValue(this.position.x+n[a?"paddingLeft":"paddingRight"]),i[S]="";var Q=f?"bottom":"top";i[f?"top":"bottom"]=this.getYValue(this.position.y+n[f?"paddingTop":"paddingBottom"]),i[Q]="",this.css(i),this.emitEvent("layout",[this])},h.getXValue=function(n){var i=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!i?n/this.layout.size.width*100+"%":n+"px"},h.getYValue=function(n){var i=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&i?n/this.layout.size.height*100+"%":n+"px"},h._transitionTo=function(n,i){this.getPosition();var a=this.position.x,f=this.position.y,T=n==this.position.x&&i==this.position.y;if(this.setPosition(n,i),!T||this.isTransitioning){var W={};W.transform=this.getTranslate(n-a,i-f),this.transition({to:W,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})}else this.layoutPosition()},h.getTranslate=function(n,i){return"translate3d("+(n=this.layout._getOption("originLeft")?n:-n)+"px, "+(i=this.layout._getOption("originTop")?i:-i)+"px, 0)"},h.goTo=function(n,i){this.setPosition(n,i),this.layoutPosition()},h.moveTo=h._transitionTo,h.setPosition=function(n,i){this.position.x=parseFloat(n),this.position.y=parseFloat(i)},h._nonTransition=function(n){for(var i in this.css(n.to),n.isCleaning&&this._removeStyles(n.to),n.onTransitionEnd)n.onTransitionEnd[i].call(this)},h.transition=function(n){if(parseFloat(this.layout.options.transitionDuration)){var i=this._transn;for(var a in n.onTransitionEnd)i.onEnd[a]=n.onTransitionEnd[a];for(a in n.to)i.ingProperties[a]=!0,n.isCleaning&&(i.clean[a]=!0);n.from&&this.css(n.from),this.enableTransition(n.to),this.css(n.to),this.isTransitioning=!0}else this._nonTransition(n)};var w="opacity,"+function d(n){return n.replace(/([A-Z])/g,function(i){return"-"+i.toLowerCase()})}(p);h.enableTransition=function(){if(!this.isTransitioning){var n=this.layout.options.transitionDuration;this.css({transitionProperty:w,transitionDuration:n="number"==typeof n?n+"ms":n,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(u,this,!1)}},h.onwebkitTransitionEnd=function(n){this.ontransitionend(n)},h.onotransitionend=function(n){this.ontransitionend(n)};var y={"-webkit-transform":"transform"};h.ontransitionend=function(n){if(n.target===this.element){var i=this._transn,a=y[n.propertyName]||n.propertyName;delete i.ingProperties[a],function m(n){for(var i in n)return!1;return!0}(i.ingProperties)&&this.disableTransition(),a in i.clean&&(this.element.style[n.propertyName]="",delete i.clean[a]),a in i.onEnd&&(i.onEnd[a].call(this),delete i.onEnd[a]),this.emitEvent("transitionEnd",[this])}},h.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(u,this,!1),this.isTransitioning=!1},h._removeStyles=function(n){var i={};for(var a in n)i[a]="";this.css(i)};var E={transitionProperty:"",transitionDuration:"",transitionDelay:""};return h.removeTransitionStyles=function(){this.css(E)},h.stagger=function(n){n=isNaN(n)?0:n,this.staggerDelay=n+"ms"},h.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},h.remove=function(){l&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",function(){this.removeElem()}),this.hide()):this.removeElem()},h.reveal=function(){delete this.isHidden,this.css({display:""});var n=this.layout.options,i={};i[this.getHideRevealTransitionEndProperty("visibleStyle")]=this.onRevealTransitionEnd,this.transition({from:n.hiddenStyle,to:n.visibleStyle,isCleaning:!0,onTransitionEnd:i})},h.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},h.getHideRevealTransitionEndProperty=function(n){var i=this.layout.options[n];if(i.opacity)return"opacity";for(var a in i)return a},h.hide=function(){this.isHidden=!0,this.css({display:""});var n=this.layout.options,i={};i[this.getHideRevealTransitionEndProperty("hiddenStyle")]=this.onHideTransitionEnd,this.transition({from:n.visibleStyle,to:n.hiddenStyle,isCleaning:!0,onTransitionEnd:i})},h.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},h.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},F}.apply(k,O))&&(B.exports=L)},5450:(B,k,g)=>{var M,O;!function(L,I){"use strict";M=[g(14775),g(58722),g(50919),g(18865)],O=function(x,_,m,C){return function(I,x,_,m,C){var l=I.console,p=I.jQuery,u=function(){},P=0,F={};function h(n,i){var a=m.getQueryElement(n);if(a){this.element=a,p&&(this.$element=p(this.element)),this.options=m.extend({},this.constructor.defaults),this.option(i);var f=++P;this.element.outlayerGUID=f,F[f]=this,this._create(),this._getOption("initLayout")&&this.layout()}else l&&l.error("Bad element for "+this.constructor.namespace+": "+(a||n))}h.namespace="outlayer",h.Item=C,h.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var d=h.prototype;function w(n){function i(){n.apply(this,arguments)}return(i.prototype=Object.create(n.prototype)).constructor=i,i}m.extend(d,x.prototype),d.option=function(n){m.extend(this.options,n)},d._getOption=function(n){var i=this.constructor.compatOptions[n];return i&&void 0!==this.options[i]?this.options[i]:this.options[n]},h.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},d._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),m.extend(this.element.style,this.options.containerStyle),this._getOption("resize")&&this.bindResize()},d.reloadItems=function(){this.items=this._itemize(this.element.children)},d._itemize=function(n){for(var i=this._filterFindItemElements(n),a=this.constructor.Item,f=[],T=0;T<i.length;T++){var S=new a(i[T],this);f.push(S)}return f},d._filterFindItemElements=function(n){return m.filterFindElements(n,this.options.itemSelector)},d.getItemElements=function(){return this.items.map(function(n){return n.element})},d.layout=function(){this._resetLayout(),this._manageStamps();var n=this._getOption("layoutInstant");this.layoutItems(this.items,void 0!==n?n:!this._isLayoutInited),this._isLayoutInited=!0},d._init=d.layout,d._resetLayout=function(){this.getSize()},d.getSize=function(){this.size=_(this.element)},d._getMeasurement=function(n,i){var f,a=this.options[n];a?("string"==typeof a?f=this.element.querySelector(a):a instanceof HTMLElement&&(f=a),this[n]=f?_(f)[i]:a):this[n]=0},d.layoutItems=function(n,i){n=this._getItemsForLayout(n),this._layoutItems(n,i),this._postLayout()},d._getItemsForLayout=function(n){return n.filter(function(i){return!i.isIgnored})},d._layoutItems=function(n,i){if(this._emitCompleteOnItems("layout",n),n&&n.length){var a=[];n.forEach(function(f){var T=this._getItemLayoutPosition(f);T.item=f,T.isInstant=i||f.isLayoutInstant,a.push(T)},this),this._processLayoutQueue(a)}},d._getItemLayoutPosition=function(){return{x:0,y:0}},d._processLayoutQueue=function(n){this.updateStagger(),n.forEach(function(i,a){this._positionItem(i.item,i.x,i.y,i.isInstant,a)},this)},d.updateStagger=function(){var n=this.options.stagger;if(null!=n)return this.stagger=function E(n){if("number"==typeof n)return n;var i=n.match(/(^\d*\.?\d*)(\w*)/),a=i&&i[1],f=i&&i[2];return a.length?(a=parseFloat(a))*(y[f]||1):0}(n),this.stagger;this.stagger=0},d._positionItem=function(n,i,a,f,T){f?n.goTo(i,a):(n.stagger(T*this.stagger),n.moveTo(i,a))},d._postLayout=function(){this.resizeContainer()},d.resizeContainer=function(){if(this._getOption("resizeContainer")){var i=this._getContainerSize();i&&(this._setContainerMeasure(i.width,!0),this._setContainerMeasure(i.height,!1))}},d._getContainerSize=u,d._setContainerMeasure=function(n,i){if(void 0!==n){var a=this.size;a.isBorderBox&&(n+=i?a.paddingLeft+a.paddingRight+a.borderLeftWidth+a.borderRightWidth:a.paddingBottom+a.paddingTop+a.borderTopWidth+a.borderBottomWidth),n=Math.max(n,0),this.element.style[i?"width":"height"]=n+"px"}},d._emitCompleteOnItems=function(n,i){var a=this;function f(){a.dispatchEvent(n+"Complete",null,[i])}var T=i.length;if(i&&T){var D=0;i.forEach(function(W){W.once(n,S)})}else f();function S(){++D==T&&f()}},d.dispatchEvent=function(n,i,a){var f=i?[i].concat(a):a;if(this.emitEvent(n,f),p)if(this.$element=this.$element||p(this.element),i){var T=p.Event(i);T.type=n,this.$element.trigger(T,a)}else this.$element.trigger(n,a)},d.ignore=function(n){var i=this.getItem(n);i&&(i.isIgnored=!0)},d.unignore=function(n){var i=this.getItem(n);i&&delete i.isIgnored},d.stamp=function(n){(n=this._find(n))&&(this.stamps=this.stamps.concat(n),n.forEach(this.ignore,this))},d.unstamp=function(n){(n=this._find(n))&&n.forEach(function(i){m.removeFrom(this.stamps,i),this.unignore(i)},this)},d._find=function(n){if(n)return"string"==typeof n&&(n=this.element.querySelectorAll(n)),m.makeArray(n)},d._manageStamps=function(){!this.stamps||!this.stamps.length||(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},d._getBoundingRect=function(){var n=this.element.getBoundingClientRect(),i=this.size;this._boundingRect={left:n.left+i.paddingLeft+i.borderLeftWidth,top:n.top+i.paddingTop+i.borderTopWidth,right:n.right-(i.paddingRight+i.borderRightWidth),bottom:n.bottom-(i.paddingBottom+i.borderBottomWidth)}},d._manageStamp=u,d._getElementOffset=function(n){var i=n.getBoundingClientRect(),a=this._boundingRect,f=_(n);return{left:i.left-a.left-f.marginLeft,top:i.top-a.top-f.marginTop,right:a.right-i.right-f.marginRight,bottom:a.bottom-i.bottom-f.marginBottom}},d.handleEvent=m.handleEvent,d.bindResize=function(){I.addEventListener("resize",this),this.isResizeBound=!0},d.unbindResize=function(){I.removeEventListener("resize",this),this.isResizeBound=!1},d.onresize=function(){this.resize()},m.debounceMethod(h,"onresize",100),d.resize=function(){!this.isResizeBound||!this.needsResizeLayout()||this.layout()},d.needsResizeLayout=function(){var n=_(this.element);return this.size&&n&&n.innerWidth!==this.size.innerWidth},d.addItems=function(n){var i=this._itemize(n);return i.length&&(this.items=this.items.concat(i)),i},d.appended=function(n){var i=this.addItems(n);!i.length||(this.layoutItems(i,!0),this.reveal(i))},d.prepended=function(n){var i=this._itemize(n);if(i.length){var a=this.items.slice(0);this.items=i.concat(a),this._resetLayout(),this._manageStamps(),this.layoutItems(i,!0),this.reveal(i),this.layoutItems(a)}},d.reveal=function(n){if(this._emitCompleteOnItems("reveal",n),n&&n.length){var i=this.updateStagger();n.forEach(function(a,f){a.stagger(f*i),a.reveal()})}},d.hide=function(n){if(this._emitCompleteOnItems("hide",n),n&&n.length){var i=this.updateStagger();n.forEach(function(a,f){a.stagger(f*i),a.hide()})}},d.revealItemElements=function(n){var i=this.getItems(n);this.reveal(i)},d.hideItemElements=function(n){var i=this.getItems(n);this.hide(i)},d.getItem=function(n){for(var i=0;i<this.items.length;i++){var a=this.items[i];if(a.element==n)return a}},d.getItems=function(n){n=m.makeArray(n);var i=[];return n.forEach(function(a){var f=this.getItem(a);f&&i.push(f)},this),i},d.remove=function(n){var i=this.getItems(n);this._emitCompleteOnItems("remove",i),i&&i.length&&i.forEach(function(a){a.remove(),m.removeFrom(this.items,a)},this)},d.destroy=function(){var n=this.element.style;n.height="",n.position="",n.width="",this.items.forEach(function(a){a.destroy()}),this.unbindResize(),delete F[this.element.outlayerGUID],delete this.element.outlayerGUID,p&&p.removeData(this.element,this.constructor.namespace)},h.data=function(n){var i=(n=m.getQueryElement(n))&&n.outlayerGUID;return i&&F[i]},h.create=function(n,i){var a=w(h);return a.defaults=m.extend({},h.defaults),m.extend(a.defaults,i),a.compatOptions=m.extend({},h.compatOptions),a.namespace=n,a.data=h.data,a.Item=w(C),m.htmlInit(a,n),p&&p.bridget&&p.bridget(n,a),a};var y={ms:1,s:1e3};return h.Item=C,h}(L,x,_,m,C)}.apply(k,M),void 0!==O&&(B.exports=O)}(window)},32992:(B,k,g)=>{"use strict";g.r(k),g.d(k,{FeedModule:()=>$});var M=g(52954),O=g(93557),L=g(95432),I=g(37661),x=g(32460),_=g(56370),m=g(81547),C=g(85140),l=g(99687),p=g(40930),u=g(30461),P=g(31415),F=g(4540),h=g(69420),d=g(10742),w=g(16992),y=g(10909),E=g(20117),n=g(79296),i=g(67605),a=g(68751),f=g(33646),T=g(36368),D=g(89857),S=g(59132),W=g(51167),Y=g(20680),R=g(49119),Q=g(85566),J=g.n(Q),t=g(39609),nt=g(75471),it=g(28086),H=g(33950);const ot=["ngx-masonry",""],st=["*"];let X=(()=>{class r{constructor(e,s){this.platformId=e,this._element=s,this.updateLayout=!1,this.ordered=!1,this.layoutComplete=new t.vpe,this.removeComplete=new t.vpe,this.itemsLoaded=new t.vpe,this.pendingItems=[]}ngOnInit(){this.options||(this.options={}),this.options.itemSelector||(this.options.itemSelector="[ngxMasonryItem], ngxMasonryItem"),this.options.transitionDuration="0s",(0,M.NF)(this.platformId)&&(this.masonryInstance=new it(this._element.nativeElement,this.options),this.masonryInstance.on("layoutComplete",e=>{this.layoutComplete.emit(e)}),this.masonryInstance.on("removeComplete",e=>{this.removeComplete.emit(e)}),this.masonryInstance.items=[])}ngOnChanges(e){e.updateLayout&&(e.updateLayout.firstChange||this.layout())}ngOnDestroy(){this.masonryInstance&&this.masonryInstance.destroy()}layout(){setTimeout(()=>{this.masonryInstance.layout()})}reloadItems(){setTimeout(()=>{this.masonryInstance.reloadItems()})}addPendingItem(e){this.pendingItems.push(e)}add(e){if(this.ordered){for(const[s,c]of this.pendingItems.entries())if(c){if(!c.images||0!==c.images.size)return;this.pendingItems[s]=void 0,this.itemLoaded(c),s+1===this.pendingItems.length&&(this.itemsLoaded.emit(this.pendingItems.length),this.pendingItems=[])}}else this.itemLoaded(e)}itemLoaded(e){(0,M.NF)(this.platformId)&&(e.prepend?this.masonryInstance.prepended(e.element.nativeElement):this.masonryInstance.appended(e.element.nativeElement),1===this.masonryInstance.items.length&&this.masonryInstance.layout(),e.playAnimation(!0))}remove(e){(0,M.NF)(this.platformId)&&(this.masonryInstance.remove(e),this.layout())}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(t.Lbi),t.Y36(t.SBq))},r.\u0275cmp=t.Xpm({type:r,selectors:[["","ngx-masonry",""],["ngx-masonry"]],inputs:{options:"options",updateLayout:"updateLayout",ordered:"ordered"},outputs:{layoutComplete:"layoutComplete",removeComplete:"removeComplete",itemsLoaded:"itemsLoaded"},features:[t.TTD],attrs:ot,ngContentSelectors:st,decls:1,vars:0,template:function(e,s){1&e&&(t.F$t(),t.Hsn(0))},styles:["[_nghost-%COMP%]{display:block}"]}),r})(),rt=(()=>{class r{constructor(e,s,c,v){this.element=e,this.builder=s,this.parent=c,this.renderer=v,this.prepend=!1,this.animations={show:[(0,H.oB)({opacity:0}),(0,H.jt)("400ms ease-in",(0,H.oB)({opacity:1}))],hide:[(0,H.oB)({opacity:"*"}),(0,H.jt)("400ms ease-in",(0,H.oB)({opacity:0}))]}}ngOnInit(){void 0!==this.parent.options.animations&&(this.animations=this.parent.options.animations),this.renderer.setStyle(this.element.nativeElement,"position","fixed"),this.renderer.setStyle(this.element.nativeElement,"right","-150vw"),this.parent.addPendingItem(this)}ngAfterViewInit(){const e=Array.from(this.element.nativeElement.getElementsByTagName("img"));if(this.images=new Set(e),0===e.length)setTimeout(()=>{this.parent.add(this)});else for(const s of e)s.hasAttribute("masonryLazy")?this.imageLoaded(s):(this.renderer.listen(s,"load",c=>{this.imageLoaded(s)}),this.renderer.listen(s,"error",c=>{this.imageLoaded(s)}))}ngOnDestroy(){this.images&&0===this.images.size&&this.element.nativeElement.parentNode&&(this.playAnimation(!1),this.parent.remove(this.element.nativeElement))}imageLoaded(e){this.images.delete(e),0===this.images.size&&this.parent.add(this)}playAnimation(e){const s=e?this.animations.show:this.animations.hide;s&&this.builder.build(s).create(this.element.nativeElement).play()}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(t.SBq),t.Y36(H._j),t.Y36((0,t.Gpc)(()=>X)),t.Y36(t.Qsj))},r.\u0275dir=t.lG2({type:r,selectors:[["","ngxMasonryItem",""],["ngxMasonryItem"]],inputs:{prepend:"prepend"}}),r})(),at=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({}),r})();var q=g(52835),lt=g(952),dt=g(94626),ct=g(6469),pt=g(93149);const ht=["feed"],ut=["masonry"];function gt(r,o){if(1&r&&(t.ynx(0),t._uU(1),t.BQk()),2&r){const e=t.oxw(2);t.xp6(1),t.hij("Loading posts in ",e.mode," mode...")}}function mt(r,o){if(1&r&&(t.ynx(0),t._uU(1),t.ALo(2,"translate"),t.BQk()),2&r){const e=t.oxw(2);t.xp6(1),t.AsE(" ",t.lcZ(2,2,"app.current_results")," ",e.postCurrentLength," ")}}function ft(r,o){if(1&r&&(t.ynx(0),t._uU(1),t.BQk()),2&r){const e=t.oxw(2);t.xp6(1),t.hij(" / ",e.total," ")}}const _t=function(r){return{"feed-page__results-info__dim":r}};function vt(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"div",14)(1,"span",15),t.YNc(2,gt,2,1,"ng-container",8),t.YNc(3,mt,3,4,"ng-container",8),t.YNc(4,ft,2,1,"ng-container",8),t.qZA(),t.TgZ(5,"div",16)(6,"mzima-client-button",17),t.NdJ("buttonClick",function(){t.CHM(e);const c=t.oxw();return t.KtG(c.switchMode("PREVIEW"))}),t._UZ(7,"mat-icon",18),t.qZA(),t.TgZ(8,"mzima-client-button",19),t.NdJ("buttonClick",function(){t.CHM(e);const c=t.oxw();return t.KtG(c.switchMode("ID"))}),t._UZ(9,"mat-icon",20),t.qZA()()()}if(2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngClass",t.VKq(15,_t,!e.posts.length)),t.uIk("data-qa","feed-page-results"),t.xp6(1),t.Q6J("ngIf",!e.posts.length&&e.isLoading),t.xp6(1),t.Q6J("ngIf",e.posts.length||!e.posts.length&&!e.isLoading),t.xp6(1),t.Q6J("ngIf",e.posts.length),t.xp6(2),t.Q6J("fill",e.mode===e.FeedMode.Preview?"outline":"solid")("iconOnly",!0)("color",e.mode===e.FeedMode.Preview?"primary":"light")("isActive",e.mode===e.FeedMode.Preview)("disabled",e.isLoading||!e.posts.length),t.xp6(2),t.Q6J("fill",e.mode===e.FeedMode.Id?"outline":"solid")("iconOnly",!0)("color",e.mode===e.FeedMode.Id?"primary":"light")("isActive",e.mode===e.FeedMode.Id)("disabled",e.isLoading||!e.posts.length)}}function yt(r,o){1&r&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&r&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"app.delete")))}function xt(r,o){1&r&&t._UZ(0,"mat-icon",24)}function Ct(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"button",32),t.NdJ("click",function(){const v=t.CHM(e).$implicit,b=t.oxw(5);return t.KtG(b.changePostsStatus(v.value))}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&r){const e=o.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,e.name)," ")}}function Pt(r,o){if(1&r&&(t.ynx(0),t.TgZ(1,"mzima-client-button",26),t._UZ(2,"mat-icon",27),t.qZA(),t.TgZ(3,"mat-menu",28,29)(5,"h3",30),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.YNc(8,Ct,3,3,"button",31),t.qZA(),t.BQk()),2&r){const e=t.MAs(4),s=t.oxw(4);t.xp6(1),t.Q6J("iconOnly",!0)("disabled",!s.selectedPosts.length)("matMenuTriggerFor",s.selectedPosts.length?e:null),t.xp6(5),t.Oqu(t.lcZ(7,5,"app.mark_as")),t.xp6(2),t.Q6J("ngForOf",s.statuses)}}function Mt(r,o){if(1&r&&(t.ynx(0),t.TgZ(1,"span",25),t._uU(2),t.qZA(),t.YNc(3,Pt,9,7,"ng-container",8),t.BQk()),2&r){const e=t.oxw(3);t.xp6(2),t.AsE(" ",e.selectedPosts.length,"/",e.posts.length," Selected "),t.xp6(1),t.Q6J("ngIf",e.isManagePosts)}}function wt(r,o){if(1&r&&(t.TgZ(0,"mat-option",39),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&r){const e=o.$implicit;t.Q6J("value",e.value)("id","select-option-"+e.value),t.xp6(1),t.hij(" ",t.lcZ(2,3,e.name)," ")}}function It(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"mat-form-field",36)(1,"mat-select",37),t.NdJ("selectionChange",function(c){t.CHM(e);const v=t.oxw(4);return t.KtG(v.changePostsStatus(c.value))}),t.ALo(2,"translate"),t.YNc(3,wt,3,5,"mat-option",38),t.qZA()()}if(2&r){const e=t.oxw(4);t.xp6(1),t.Q6J("formControl",e.statusControl)("disabled",!e.selectedPosts.length)("placeholder",t.lcZ(2,4,"app.mark_as")),t.xp6(2),t.Q6J("ngForOf",e.statuses)}}function bt(r,o){if(1&r){const e=t.EpF();t.ynx(0),t.YNc(1,It,4,6,"mat-form-field",33),t.TgZ(2,"mzima-client-button",34),t.NdJ("buttonClick",function(){t.CHM(e);const c=t.oxw(3);return t.KtG(c.selectAllPosts())}),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"mzima-client-button",35),t.NdJ("buttonClick",function(){t.CHM(e);const c=t.oxw(3);return t.KtG(c.deselectAllPosts())}),t._uU(6),t.ALo(7,"translate"),t.ALo(8,"translate"),t.qZA(),t.BQk()}if(2&r){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",e.isManagePosts),t.xp6(2),t.hij(" ",t.lcZ(4,5,"post.select_all")," "),t.xp6(2),t.Q6J("disabled",!e.selectedPosts.length),t.xp6(1),t.AsE(" ",t.lcZ(7,7,"nav.deselect")," ",t.lcZ(8,9,"nav.all")," ")}}function Tt(r,o){if(1&r){const e=t.EpF();t.ynx(0),t.TgZ(1,"mzima-client-button",22),t.NdJ("buttonClick",function(){t.CHM(e);const c=t.oxw(2);return t.KtG(c.deleteSelectedPosts())}),t.YNc(2,yt,3,3,"span",8),t.YNc(3,xt,1,0,"mat-icon",23),t.qZA(),t.YNc(4,Mt,4,3,"ng-container",8),t.YNc(5,bt,9,11,"ng-container",8),t.BQk()}if(2&r){const e=t.oxw(2);t.xp6(1),t.Q6J("iconOnly",!e.isDesktop)("disabled",!e.selectedPosts.length),t.xp6(1),t.Q6J("ngIf",e.isDesktop),t.xp6(1),t.Q6J("ngIf",!e.isDesktop),t.xp6(1),t.Q6J("ngIf",!e.isDesktop),t.xp6(1),t.Q6J("ngIf",e.isDesktop)}}function Ft(r,o){if(1&r&&(t.TgZ(0,"div",21),t.YNc(1,Tt,6,6,"ng-container",8),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.isBulkOptionsVisible)}}function Ot(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"mzima-client-button",40),t.NdJ("buttonClick",function(){t.CHM(e);const c=t.oxw();return t.KtG(c.toggleBulkOptions(!c.isBulkOptionsVisible))}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&r){const e=t.oxw();t.Q6J("isActive",e.isBulkOptionsVisible)("disabled",e.isLoading||!e.posts.length),t.xp6(1),t.hij(" ",t.lcZ(2,3,"post.modify.bulk_actions")," ")}}function Et(r,o){1&r&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&r&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"global_filter.sorting")))}const At=function(r){return{active:r}};function St(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"button",41),t.NdJ("click",function(){const v=t.CHM(e).$implicit,b=t.oxw();return t.KtG(b.sortPosts(v.value))}),t._UZ(1,"mat-icon",42),t._uU(2),t.ALo(3,"translate"),t.ALo(4,"translate"),t.qZA()}if(2&r){const e=o.$implicit,s=t.oxw();t.Q6J("ngClass",t.VKq(8,At,s.activeSorting.order===e.value.order&&s.activeSorting.orderby===e.value.orderby)),t.xp6(1),t.Q6J("svgIcon","desc"===e.value.order?"sort-down":"sort-up"),t.xp6(1),t.AsE(" ",t.lcZ(3,4,e.orderBy)," (",t.lcZ(4,6,e.order),") ")}}function Lt(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"mzima-client-button",43),t.NdJ("buttonClick",function(){t.CHM(e);const c=t.oxw();return t.KtG(c.toggleFilters(!c.isFiltersVisible))}),t._UZ(1,"mat-icon",44),t.qZA()}2&r&&t.Q6J("iconOnly",!0)}function zt(r,o){1&r&&(t.ynx(0),t.TgZ(1,"span",46),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.BQk()),2&r&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"post.no_posts_yet")))}const Dt=function(r,o,e,s){return{post__tiles:r,"post__details-or-edit":o,"active--postcard":e,"scroll--active--postcard--to--top":s}};function kt(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"app-post-preview",53),t.NdJ("edit",function(){const v=t.CHM(e).$implicit,b=t.oxw(3);return t.KtG(b.editPost(v))})("refresh",function(){const v=t.CHM(e).$implicit,b=t.oxw(3);return t.KtG(b.refreshPost(v))})("deleted",function(){const v=t.CHM(e).$implicit,b=t.oxw(3);return t.KtG(b.postDeleted([v]))})("click",function(){const v=t.CHM(e).$implicit,b=t.oxw(3);return t.KtG(b.showPostDetails(v))})("statusChanged",function(){t.CHM(e);const c=t.oxw(3);return t.KtG(c.postStatusChanged())})("selected",function(c){const b=t.CHM(e).$implicit,N=t.oxw(3);return t.KtG(N.isPostSelected(c,b))})("mediaLoaded",function(){t.CHM(e);const c=t.oxw(3);return t.KtG(c.updateMasonry())}),t.qZA()}if(2&r){const e=o.$implicit,s=t.oxw(3);t.Q6J("ngClass",t.l5B(8,Dt,s.mode===s.FeedMode.Preview,s.mode===s.FeedMode.Id,s.mode===s.FeedMode.Id&&e.id===(null==s.postDetails?null:s.postDetails.id),s.isDesktop&&s.scrollToView&&s.mode===s.FeedMode.Id&&e.id===(null==s.postDetails?null:s.postDetails.id)))("post",e)("user",s.user)("feedView",!0)("selectable",s.isBulkOptionsVisible)("isChecked",s.isPostChecked(e)),t.uIk("data-qa","post-item")("postId",e.id)}}function Wt(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"pagination-controls",54),t.NdJ("pageChange",function(c){t.CHM(e);const v=t.oxw(3);return t.KtG(v.changePage(c))}),t.qZA()}}function Bt(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"mzima-client-button",57),t.NdJ("buttonClick",function(){t.CHM(e);const c=t.oxw(4);return t.KtG(c.loadMore())}),t._UZ(1,"mat-icon",58),t.TgZ(2,"span"),t._uU(3),t.ALo(4,"translate"),t.qZA()()}2&r&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"app.load_more")))}function Nt(r,o){1&r&&t._UZ(0,"app-spinner")}function Rt(r,o){1&r&&(t.TgZ(0,"div",59),t._uU(1," End of Posts "),t.qZA())}function Zt(r,o){if(1&r&&(t.ynx(0),t.YNc(1,Bt,5,3,"mzima-client-button",55),t.YNc(2,Nt,1,0,"app-spinner",8),t.YNc(3,Rt,2,0,"div",56),t.BQk()),2&r){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",!e.loadingMorePosts&&e.postCurrentLength<e.total),t.xp6(1),t.Q6J("ngIf",e.loadingMorePosts&&e.postCurrentLength<e.total),t.xp6(1),t.Q6J("ngIf",!e.loadingMorePosts&&e.postCurrentLength>=e.total)}}function Yt(r,o){1&r&&t._UZ(0,"router-outlet")}const Ht=function(r){return{"post-list post-list__scroll post-list__color":r}},Qt=function(r){return{"left-margin":r}},Jt=function(r,o,e){return{itemsPerPage:r,currentPage:o,totalItems:e}},Ut=function(r){return{"post-list__scroll":r}};function Vt(r,o){if(1&r&&(t.ynx(0),t.TgZ(1,"div",47,48)(3,"div",47)(4,"ngx-masonry",49,50),t.YNc(6,kt,1,13,"app-post-preview",51),t.ALo(7,"paginate"),t.qZA(),t.YNc(8,Wt,1,0,"pagination-controls",52),t.YNc(9,Zt,4,3,"ng-container",8),t.qZA()(),t.TgZ(10,"div",47),t.YNc(11,Yt,1,0,"router-outlet",8),t.qZA(),t.BQk()),2&r){const e=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.VKq(13,Ht,e.mode===e.FeedMode.Id)),t.xp6(2),t.Q6J("ngClass",t.VKq(15,Qt,e.mode===e.FeedMode.Id&&e.isDesktop)),t.xp6(1),t.Q6J("ordered",!0)("options",e.masonryOptions),t.uIk("data-qa","post-preview"),t.xp6(2),t.Q6J("ngForOf",t.xi3(7,10,e.posts,t.kEZ(17,Jt,e.mode===e.FeedMode.Id?0:e.itemsPerPage,e.currentPage,e.total))),t.xp6(2),t.Q6J("ngIf",!(e.mode===e.FeedMode.Id&&e.isDesktop)&&e.paginationElementsAllowed),t.xp6(1),t.Q6J("ngIf",e.mode===e.FeedMode.Id&&e.isDesktop&&e.paginationElementsAllowed),t.xp6(1),t.Q6J("ngClass",t.VKq(21,Ut,e.mode===e.FeedMode.Id)),t.xp6(1),t.Q6J("ngIf",e.isDesktop&&e.mode===e.FeedMode.Id)}}const tt=function(r,o){return{main__tiles:r,"main__details-or-edit":o}};function Kt(r,o){if(1&r&&(t.ynx(0),t.TgZ(1,"div",45),t.YNc(2,zt,4,3,"ng-container",8),t.YNc(3,Vt,12,23,"ng-container",8),t.qZA(),t.BQk()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngClass",t.WLB(4,tt,e.mode===e.FeedMode.Preview,e.mode===e.FeedMode.Id&&e.posts.length)),t.uIk("data-qa","posts"),t.xp6(1),t.Q6J("ngIf",!e.posts.length),t.xp6(1),t.Q6J("ngIf",e.posts.length)}}function $t(r,o){1&r&&t._UZ(0,"div",64)}const Gt=function(r){return{"loader loader--border":r}};function qt(r,o){if(1&r&&(t.TgZ(0,"div",47),t.YNc(1,$t,1,0,"div",63),t.qZA()),2&r){const e=t.oxw(2);t.Q6J("ngClass",t.VKq(2,Gt,e.mode===e.FeedMode.Id&&e.isDesktop)),t.xp6(1),t.Q6J("ngForOf",e.postsSkeleton)}}const jt=function(r){return{"loader--border":r}};function Xt(r,o){if(1&r&&(t.ynx(0),t.TgZ(1,"div",60),t.YNc(2,qt,2,4,"div",61),t.TgZ(3,"div",47),t._UZ(4,"app-spinner",62),t.qZA()(),t.BQk()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("ngClass",t.WLB(3,tt,e.mode===e.FeedMode.Preview,e.mode===e.FeedMode.Id)),t.xp6(1),t.Q6J("ngIf",e.mode===e.FeedMode.Id&&e.isDesktop),t.xp6(1),t.Q6J("ngClass",t.VKq(6,jt,e.mode===e.FeedMode.Id&&e.isDesktop))}}const te=function(r,o){return{"feed-page--filters-visible":r,"feed-page--no-offset":o}},ee=function(r){return{"feed-page__controls-panel--bulk-visible":r}};var z=(()=>{return(r=z||(z={})).Preview="PREVIEW",r.Id="ID",z;var r})();let V=class j extends D.z9{router;route;postsService;savedSearchesService;eventBusService;sessionService;breakpointService;location;confirmModalService;dialog;translate;languageService;snackBar;_routerEvent=n.w0.EMPTY;feed;masonry;getPostsSubject=new i.x;pagination={page:0,limit:20};userEvent="load";idModePages=["view","edit","not-found","not-allowed"];idModePageFromRouter=o=>this.idModePages.filter(e=>o.includes(`/${e}`))[0];onlyModeUIChanged=!1;postsSkeleton=new Array(20).fill("");posts=[];postCurrentLength=0;isLoading;atLeastOnePostExists;noPostsYet=!1;loadingMorePosts;paginationElementsAllowed=!1;mode=z.Preview;activePostId;total;postDetails;scrollToView;isPostLoading;isFiltersVisible;isBulkOptionsVisible;selectedPosts=[];statuses=y.pQ.Do;sortingOptions=y.pQ.bb;activeSorting={order:"desc",orderby:"created"};isRTL;masonryOptions={originLeft:!1,percentPosition:!0,resize:!0,gutter:0,columnWidth:3,fitWidth:!1,horizontalOrder:!0};FeedMode=z;currentPage=1;itemsPerPage=20;postDetailsModal;isMainFiltersOpen;isManagePosts;statusControl=new O.NI;initialLoad=!0;urlFromRouteTrigger;urlAfterInteractionWithFilters;constructor(o,e,s,c,v,b,N,G,se,re,ae,le,de){super(o,e,s,c,v,b,N),this.router=o,this.route=e,this.postsService=s,this.savedSearchesService=c,this.eventBusService=v,this.sessionService=b,this.breakpointService=N,this.location=G,this.confirmModalService=se,this.dialog=re,this.translate=ae,this.languageService=le,this.snackBar=de,this.checkDesktop(),this.setupFeedDefaultFilters(),this.route.params.subscribe(()=>{this.initCollection()}),this.route.queryParams.subscribe({next:A=>{if(this.activePostId=Number(this.router.url.match(/\/(\d+)\/[^\/]+$/)?.[1]),this.mode=this.activePostId?z.Id:z.Preview,this.activeCard.scrollCountHandler({task:"reset"}),this.isLoading=!this.onlyModeUIChanged,this.paginationElementsAllowed=this.onlyModeUIChanged?this.posts.length>=20||this.currentPage>1:!this.posts,this.currentPage=A.page?Number(A.page):1,this.params.page=this.currentPage,this.savePageURL.onRouterTriggered({url:this.router.url}),A.mode&&A.mode!==this.mode){const et=this.router.createUrlTree([],{relativeTo:this.route,queryParams:{...A,mode:this.mode}}).toString();this.savePageURL.onRouterTriggered({url:et}),this.location.go(et)}this.isLoading&&(this.posts=[],this.getPosts({params:this.params})),this.mode===z.Preview&&this.onlyModeUIChanged&&this.posts.length>20&&(this.posts=this.posts.slice(0,20),this.postCurrentLength=this.posts.length*this.currentPage)}}),this._routerEvent=this.router.events.pipe((0,a.h)(A=>A instanceof p.m2)).subscribe(()=>{if(this.urlAfterInteractionWithFilters="",this.activeCard.scrollCountHandler({task:"increment"}),this.masonryUpdateOnModeSwitch({userEvent:this.userEvent}),this.activeCard.slideOutHandler(),this.activeCard.scrollToView(),this.mode===z.Preview&&localStorage.removeItem("feedview_postObj"),this.mode===z.Id&&"load"===this.userEvent){localStorage.setItem("feedview_postObj",JSON.stringify({}));const A=this.idModePageFromRouter(this.router.url);this.modal({showOn:"TabletAndBelow"}).idMode({page:A}).loadHandler({id:this.activePostId})}this.onlyModeUIChanged=!1}),this.postsService.postsFilters$.pipe((0,E.t)(this)).subscribe({next:()=>{if(this.isLoading=!0,this.paginationElementsAllowed=!1,this.isLoading){if(this.initialLoad)return void(this.initialLoad=!1);const A=this.currentPage;this.currentPage=1,this.urlAfterInteractionWithFilters=this.setPageURLonInteractionWithFilters({routerURL:this.urlFromRouteTrigger,currentPageBeforeInteractingWithFilters:A}),this.savePageURL.onInteractionWithFilters({url:this.urlAfterInteractionWithFilters}),this.location.go(this.urlAfterInteractionWithFilters),this.posts=[];const U={...this.params,page:this.currentPage};this.getPosts({params:U})}}}),this.postsService.isLoadingPosts$.pipe((0,E.t)(this)).subscribe({next:A=>{this.isLoading=A}}),this.postsService.totalPosts$.pipe((0,E.t)(this)).subscribe({next:A=>{this.total=A}}),this.postsService.awaitedResponse$.pipe((0,E.t)(this)).subscribe({next:A=>{const U=Number(A.meta.per_page);this.postCurrentLength=A.count<U?A.meta.total:A.meta.current_page*A.count,this.navigateToFirstPostOnPageOneWhenFilteringInIdMode(),setTimeout(()=>{this.paginationElementsAllowed=A.meta.total>U,this.loadingMorePosts=!1},1200),this.activeCard.scrollToView()}}),this.sessionService.isFiltersVisible$.pipe((0,E.t)(this)).subscribe({next:A=>{setTimeout(()=>{this.isFiltersVisible=A},1)}}),this.languageService.isRTL$.pipe((0,E.t)(this)).subscribe({next:A=>{this.isRTL!==A&&(this.isRTL=A,this.masonryOptions.originLeft=!this.isRTL)}}),window.addEventListener("resize",()=>{this.activeCard.scrollCountHandler({task:"startCount"}),this.masonryUpdateOnModeSwitch({userEvent:"resize"});const A=this.idModePageFromRouter(this.router.url);this.modal({showOn:"TabletAndBelow"}).idMode({page:A}).resizeHandler({}),this.activeCard.scrollToView()}),this.sessionService.isMainFiltersHidden$.pipe((0,E.t)(this)).subscribe({next:A=>{setTimeout(()=>{this.isMainFiltersOpen=!A},1)}})}ngOnDestroy(){this._routerEvent.unsubscribe()}ngOnInit(){this.getUserData(),this.checkPermission(),this.eventBusListeners()}setupFeedDefaultFilters(){this.params.include_unstructured_posts&&this.params["form[]"]?.push("0"),this.params.currentView="feed",this.params.limit=20,this.params.page=1,this.pagination={limit:this.params.limit,page:this.params.page}}eventBusListeners(){this.eventBusService.on("DELETE_COLLECTION").pipe((0,E.t)(this)).subscribe({next:o=>{Number(o)===Number(this.collectionId)&&this.router.navigate(["/feed"])}}),this.eventBusService.on("DELETE_SAVED_SEARCH").pipe((0,E.t)(this)).subscribe({next:()=>{this.router.navigate(["/feed"])}}),this.eventBusService.on("UPDATED_POST").pipe((0,E.t)(this)).subscribe({next:o=>{this.refreshPost(o)}}),this.eventBusService.on("EDIT_POST").pipe((0,E.t)(this)).subscribe({next:o=>{this.editPost(o)}}),this.eventBusService.on("DELETED_POST").pipe((0,E.t)(this)).subscribe({next:o=>{this.postDeleted([o],0)}})}checkPermission(){this.isManagePosts=this.user.permissions?.includes(w.P.ManagePosts)??!1}loadData(){}getPosts({params:o,loadMore:e}){this.postsService.getPosts("",{...o,...this.activeSorting}).subscribe({next:s=>{this.posts=e?[...this.posts,...s.results]:s.results}})}updateMasonry(){this.masonry?.layout()}masonryUpdateOnModeSwitch({userEvent:o}){const e="resize"===o?0:1===parseInt(localStorage.getItem("scroll_count")),s=(c,v)=>{c.style.setProperty("visibility",v)};document.querySelectorAll(".post").forEach(c=>{e&&window.innerWidth>=1024?(s(c,"hidden"),setTimeout(()=>{s(c,"visible")},70)):s(c,"")}),this.updateMasonry()}activeCard={slideOutHandler:()=>{const o=JSON.parse(localStorage.getItem("feedview_postObj"));this.postDetails=o},scrollCountHandler:({task:o})=>{const e=localStorage.hasOwnProperty("scroll_count"),s=parseInt(localStorage.getItem("scroll_count")),c=this.mode===z.Id?1:0;e?("reset"===o&&localStorage.removeItem("scroll_count"),"increment"===o&&localStorage.setItem("scroll_count",`${s+1}`),"startCount"===o&&localStorage.setItem("scroll_count",`${c}`)):localStorage.setItem("scroll_count",`${c}`)},scrollToView:()=>{this.scrollToView=1===parseInt(localStorage.getItem("scroll_count")),setTimeout(()=>{document.querySelector(".scroll--active--postcard--to--top")?.scrollIntoView()},150)}};showPostDetails(o){this.onlyModeUIChanged=!0,this.userEvent="click",this.navigateTo().idMode.view({id:o.id}),this.modal({showOn:"TabletAndBelow"}).idMode({page:"view"}).clickHandler({post:o})}navigateTo=()=>{const o="/feed",e="collection",s=()=>({previewMode:({})=>this.collectionId?[o,e,this.collectionId]:[o],idMode:({id:v,page:b})=>this.collectionId?[o,e,this.collectionId,v,b]:[o,v,b]}),c=({queryParams:v})=>this.urlAfterInteractionWithFilters&&this.urlAfterInteractionWithFilters.includes("page=1")?{page:1,...v}:v;return{previewMode:({})=>{const v=s().previewMode({}),b=c({queryParams:{mode:z.Preview}});this.router.navigate(v,{queryParams:b,queryParamsHandling:"merge"})},idMode:{view:({id:v})=>{const b=s().idMode({id:v,page:"view"}),N=c({queryParams:{mode:z.Id}});this.router.navigate(b,{queryParams:N,queryParamsHandling:"merge"})},edit:({id:v})=>{const b=s().idMode({id:v,page:"edit"}),N=c({queryParams:{mode:z.Id}});this.router.navigate(b,{queryParams:N,queryParamsHandling:"merge"})},postNotFound:({id:v})=>{const b=s().idMode({id:v,page:"not-found"});this.router.navigate(b,{queryParams:{mode:z.Id},queryParamsHandling:"merge"})},PostNotAllowed:({id:v})=>{const b=s().idMode({id:v,page:"not-allowed"});this.router.navigate(b,{queryParams:{mode:z.Id},queryParamsHandling:"merge"})}},pathFromCurrentRoute:({page:v})=>{this.currentPage=v,this.router.navigate([],{relativeTo:this.route,queryParams:{page:this.currentPage},queryParamsHandling:"merge"})}}};savePageURL={onRouterTriggered:({url:o})=>{this.urlFromRouteTrigger=o},onInteractionWithFilters:({url:o})=>{this.urlAfterInteractionWithFilters=o}};setPageURLonInteractionWithFilters=({routerURL:o,currentPageBeforeInteractingWithFilters:e})=>{if(o.includes(`page=${e}`))o=o.replace(`page=${e}`,`page=${this.currentPage}`);else{const s=o.includes(`mode=${z.Id}`),c=o.includes(`mode=${z.Preview}`);let v={};(s||c)&&(v={mode:this.mode}),o=this.router.createUrlTree([],{relativeTo:this.route,queryParams:{...v,page:this.currentPage}}).toString()}return o};navigateToFirstPostOnPageOneWhenFilteringInIdMode=()=>{if(this.urlAfterInteractionWithFilters&&""!==this.urlAfterInteractionWithFilters){const e=this.posts[0],s=this.idModePageFromRouter(this.urlAfterInteractionWithFilters);if(this.mode===z.Id){const c=this.urlAfterInteractionWithFilters.indexOf(s),v=this.urlAfterInteractionWithFilters.slice(0,c-1),b=v.slice(v.lastIndexOf("/")+1,v.length);let N=this.urlAfterInteractionWithFilters.replace(`/${b}/`,`/${e.id}/`);const G="view";s!==G&&(N=N.replace(s,G)),this.router.navigateByUrl(N),this.modal({showOn:"TabletAndBelow"}).idMode({page:"view"}).clickHandler({post:e})}}};toggleBulkOptions(o){this.isBulkOptionsVisible=o,this.isBulkOptionsVisible||this.deselectAllPosts()}changePostsStatus(o){if(o===R.$4.Published){const e=this.selectedPosts.filter(s=>!R.l7.isAllRequiredCompleted(s));if(e.length>0)return this.showMessage(this.translate.instant("notify.post.posts_can_t_be_published",{titles:e.map(s=>s.title).join(", ")}),"error",5e3),void this.statusControl.reset()}(0,f.D)(this.selectedPosts.map(e=>this.postsService.update(e.id,{status:o}))).subscribe({complete:()=>{this.getPosts({params:this.params}),this.statusControl.reset(),this.deselectAllPosts()}})}selectAllPosts(){this.posts.map(o=>{this.selectedPosts.find(e=>e.id===o.id)||this.selectedPosts.push(o)})}deselectAllPosts(){this.selectedPosts=[]}deleteSelectedPosts(){var o=this;return(0,P.Z)(function*(){if(!(yield o.confirmModalService.open({title:`${o.translate.instant("app.are_you_sure_you_want_to_delete")} ${o.translate.instant("post.post_count",{count:o.selectedPosts.length})}?`,description:o.translate.instant("app.action_cannot_be_undone")})))return;const s=o.selectedPosts.length;(0,f.D)(o.selectedPosts.map(c=>o.postsService.delete(c.id))).subscribe({complete:()=>{o.postDeleted(o.selectedPosts,s)}})})()}postDeleted(o,e){if(this.getPosts({params:this.params}),this.activePostId&&o.some(s=>s.id===this.activePostId)&&this.router.navigate(this.collectionId?["feed","collection",this.collectionId]:["feed"]),this.selectedPosts=[],e){const s=1===e?"post":"posts";this.confirmModalService.open({title:this.translate.instant("notify.confirm_modal.deleted.success"),description:`<p>${this.translate.instant("notify.confirm_modal.deleted.success_description",{count:`${e} ${s}`})}</p>`,buttonSuccess:this.translate.instant("notify.confirm_modal.deleted.success_button")}),this.eventBusService.next({type:"REFRESH_SURVEYS_COUNTERS",payload:!0})}}postStatusChanged(){this.getPosts({params:this.params}),this.selectedPosts=[]}isPostSelected(o,e){if(o)this.selectedPosts.push(e);else{const s=this.selectedPosts.findIndex(c=>c.id===e.id);s>-1&&this.selectedPosts.splice(s,1)}}isPostChecked(o){return!!this.selectedPosts.find(e=>e.id===o.id)}sortPosts(o){this.activeSorting=o,this.postsService.setSorting(this.activeSorting),this.getPosts({params:this.params})}loadMore(){this.paginationElementsAllowed&&(this.loadingMorePosts=!0,this.activeCard.scrollCountHandler({task:"increment"}),this.params.page+=1,this.getPosts({params:this.params,loadMore:!0}))}toggleFilters(o){o!==this.isFiltersVisible&&(this.isFiltersVisible=o,this.sessionService.toggleFiltersVisibility(o))}switchMode(o){if(o!==this.mode){this.onlyModeUIChanged=!0;const c=this.posts[0];o===z.Id?this.navigateTo().idMode.view({id:c.id}):this.navigateTo().previewMode({}),o===z.Id&&this.modal({showOn:"TabletAndBelow"}).idMode({page:"view"}).clickHandler({post:c})}}refreshPost({id:o}){this.postsService.getById(o).subscribe(e=>{const s=J().cloneDeep(e);this.posts=this.posts.map(c=>c.id===s.id?s:c)})}changePage(o){this.toggleBulkOptions(!1),this.navigateTo().pathFromCurrentRoute({page:o})}editPost(o){this.onlyModeUIChanged=!0,this.userEvent="click",this.navigateTo().idMode.edit({id:o.id}),this.modal({showOn:"TabletAndBelow"}).idMode({page:"edit"}).clickHandler({post:o})}modal({showOn:o}){return{idMode:({page:e})=>({clickHandler:({post:s})=>{"TabletAndBelow"===o&&("view"===e&&this.openModal({post:s}).forView(),"edit"===e&&this.openModal({post:s}).forEdit())},loadHandler:({id:s})=>{"TabletAndBelow"===o&&this.postsService.getById(s).subscribe({next:c=>{"view"===e&&this.openModal({post:c}).forView(),"edit"===e&&(c.allowed_privileges.includes("update")?this.openModal({post:c}).forEdit():this.navigateTo().idMode.PostNotAllowed({id:c.id})),"not-allowed"===e&&this.openModal({post:{}}).forPostNotFoundOrNotAllowed({page:e})},error:c=>{404===c.status&&"not-found"===e&&(this.navigateTo().idMode.postNotFound({id:s}),this.openModal({post:{}}).forPostNotFoundOrNotAllowed({page:e}))}})},resizeHandler:({})=>{if("TabletAndBelow"===o&&this.mode===z.Id)if(window.innerWidth>=1024)this.postDetailsModal?.close();else if(this.dialog.openDialogs.length){for(let s=0;s<=this.dialog.openDialogs.length;s+=1)if(0===s&&1===this.dialog.openDialogs.length){const c=this.dialog.openDialogs[0].componentInstance.data.post;"view"===e&&this.openModal({post:c}).forView(),"edit"===e&&this.openModal({post:c}).forEdit(),("not-found"===e||"not-allowed"===e)&&this.openModal({post:{}}).forPostNotFoundOrNotAllowed({page:e});break}}else{const s=JSON.parse(localStorage.getItem("feedview_postObj"));"view"===e&&this.openModal({post:s}).forView(),"edit"===e&&this.openModal({post:s}).forEdit(),("not-found"===e||"not-allowed"===e)&&this.openModal({post:s}).forPostNotFoundOrNotAllowed({page:e})}}})}}openModal({post:o}){const e=({page:s,configRemainder:c})=>{let v={width:"100%",maxWidth:576,height:"auto",maxHeight:"90vh",panelClass:["modal","post-modal"]};v.panelClass.push("resize-css-handler"),v={...v,...c},this.isDesktop||this.dialog.openDialogs.length||(this.postDetailsModal=this.dialog.open(T.w,v),"edit"===s&&(this.postDetailsModal.componentInstance.post=o),("not-found"===s||"not-allowed"===s)&&(this.postDetailsModal.componentInstance.post=c)),o="view"===s||"edit"===s?o:{},localStorage.setItem("feedview_postObj",JSON.stringify(o)),this.postDetailsModal?.afterClosed().subscribe(b=>{!b&&!this.isDesktop&&(this.dialog.openDialogs.length||(this.onlyModeUIChanged=!0,this.navigateTo().previewMode({})))})};return{forView:()=>{e({page:"view",configRemainder:{data:{post:o,color:o.color,twitterId:o.data_source_message_id}}})},forEdit:()=>{e({page:"edit",configRemainder:{data:{editable:!0,color:o.color,twitterId:o.data_source_message_id}}})},forPostNotFoundOrNotAllowed:({page:s})=>{e({page:s,configRemainder:{data:{urlEnd:s}}})}}}showMessage(o,e,s=3e3){this.snackBar.open(o,"Close",{panelClass:[e],duration:s})}static \u0275fac=function(e){return new(e||j)(t.Y36(p.F0),t.Y36(p.gz),t.Y36(R.PJ),t.Y36(R.lF),t.Y36(S.Yd),t.Y36(S.mj),t.Y36(S.r),t.Y36(M.Ye),t.Y36(W.h),t.Y36(h.uw),t.Y36(m.sK),t.Y36(Y.T),t.Y36(d.ux))};static \u0275cmp=t.Xpm({type:j,selectors:[["app-feed"]],viewQuery:function(e,s){if(1&e&&(t.Gf(ht,5),t.Gf(ut,5)),2&e){let c;t.iGM(c=t.CRH())&&(s.feed=c.first),t.iGM(c=t.CRH())&&(s.masonry=c.first)}},features:[t.qOj],decls:17,vars:18,consts:[[1,"feed-page",3,"ngClass"],["class","feed-page__info-panel",4,"ngIf"],[1,"feed-page__controls-panel",3,"ngClass"],["class","feed-page__controls feed-page__controls--actions",4,"ngIf"],[1,"feed-page__controls"],["fill","outline","color","secondary","class","feed-page__control feed-page__control--bulk",3,"isActive","disabled","buttonClick",4,"ngIf"],[1,"feed-page__controls__inner"],["fill","outline","color","secondary",1,"feed-page__control","feed-page__control--sorting",3,"iconOnly","matMenuTriggerFor","disabled"],[4,"ngIf"],["icon","","svgIcon","sorting"],["xPosition","before"],["sortingMenu","matMenu"],["mat-menu-item","",3,"ngClass","click",4,"ngFor","ngForOf"],["fill","outline","color","secondary","class","feed-page__control",3,"iconOnly","buttonClick",4,"ngIf"],[1,"feed-page__info-panel"],[1,"feed-page__results-info",3,"ngClass"],[1,"feed-page__mode-switcher"],["id","switcher-button-tiles",1,"feed-page__mode-switcher__button",3,"fill","iconOnly","color","isActive","disabled","buttonClick"],["icon","","svgIcon","tiles"],["id","switcher-button-post",1,"feed-page__mode-switcher__button",3,"fill","iconOnly","color","isActive","disabled","buttonClick"],["icon","","svgIcon","sidebar"],[1,"feed-page__controls","feed-page__controls--actions"],["color","danger",1,"feed-page__control",3,"iconOnly","disabled","buttonClick"],["icon","","svgIcon","delete",4,"ngIf"],["icon","","svgIcon","delete"],[1,"feed-page__controls__info"],["color","light-gray",1,"feed-page__control",3,"iconOnly","disabled","matMenuTriggerFor"],["icon","","svgIcon","dots"],["xPosition","after","backdropClass","statuses-menu__backdrop",1,"statuses-menu"],["statusesMenu","matMenu"],[1,"menu-title"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["mat-menu-item","",3,"click"],["appearance","outline","class","feed-page__control",4,"ngIf"],["fill","clear","color","gray",1,"feed-page__control",3,"buttonClick"],["fill","clear","color","gray",1,"feed-page__control",3,"disabled","buttonClick"],["appearance","outline",1,"feed-page__control"],["disableOptionCentering","",3,"formControl","disabled","placeholder","selectionChange"],[3,"value","id",4,"ngFor","ngForOf"],[3,"value","id"],["fill","outline","color","secondary",1,"feed-page__control","feed-page__control--bulk",3,"isActive","disabled","buttonClick"],["mat-menu-item","",3,"ngClass","click"],[3,"svgIcon"],["fill","outline","color","secondary",1,"feed-page__control",3,"iconOnly","buttonClick"],["icon","","svgIcon","filters"],[1,"main",3,"ngClass"],[1,"posts-empty"],[3,"ngClass"],["feed",""],[1,"masonry-wrapper",3,"ordered","options"],["masonry",""],["class","post","ngxMasonryItem","",3,"ngClass","post","user","feedView","selectable","isChecked","edit","refresh","deleted","click","statusChanged","selected","mediaLoaded",4,"ngFor","ngForOf"],["class","pagination",3,"pageChange",4,"ngIf"],["ngxMasonryItem","",1,"post",3,"ngClass","post","user","feedView","selectable","isChecked","edit","refresh","deleted","click","statusChanged","selected","mediaLoaded"],[1,"pagination",3,"pageChange"],["fill","clear","color","secondary","class","load-more",3,"buttonClick",4,"ngIf"],["class","endofPosts",4,"ngIf"],["fill","clear","color","secondary",1,"load-more",3,"buttonClick"],["iconPrefix","","svgIcon","refresh"],[1,"endofPosts"],[1,"main","main--loader",3,"ngClass"],[3,"ngClass",4,"ngIf"],[1,"loader--spinner"],["class","loader--border loader--skeleton",4,"ngFor","ngForOf"],[1,"loader--border","loader--skeleton"]],template:function(e,s){if(1&e&&(t.TgZ(0,"div",0),t.ynx(1),t.YNc(2,vt,10,17,"div",1),t.TgZ(3,"div",2),t.YNc(4,Ft,2,1,"div",3),t.TgZ(5,"div",4),t.YNc(6,Ot,3,5,"mzima-client-button",5),t.TgZ(7,"div",6)(8,"mzima-client-button",7),t.YNc(9,Et,3,3,"span",8),t._UZ(10,"mat-icon",9),t.qZA(),t.TgZ(11,"mat-menu",10,11),t.YNc(13,St,5,10,"button",12),t.qZA(),t.YNc(14,Lt,2,1,"mzima-client-button",13),t.qZA()()(),t.BQk(),t.YNc(15,Kt,4,7,"ng-container",8),t.YNc(16,Xt,5,8,"ng-container",8),t.qZA()),2&e){const c=t.MAs(12);t.Q6J("ngClass",t.WLB(13,te,s.isFiltersVisible,!s.isMainFiltersOpen)),t.xp6(2),t.Q6J("ngIf",s.isDesktop),t.xp6(1),t.Q6J("ngClass",t.VKq(16,ee,s.isBulkOptionsVisible)),t.xp6(1),t.Q6J("ngIf",s.isDesktop||s.isBulkOptionsVisible),t.xp6(2),t.Q6J("ngIf",null==s.user||null==s.user.allowed_privileges?null:s.user.allowed_privileges.includes("update")),t.xp6(2),t.Q6J("iconOnly",!s.isDesktop)("matMenuTriggerFor",c)("disabled",s.isLoading||!s.posts.length),t.xp6(1),t.Q6J("ngIf",s.isDesktop),t.xp6(4),t.Q6J("ngForOf",s.sortingOptions),t.xp6(1),t.Q6J("ngIf",!s.isDesktop),t.xp6(1),t.Q6J("ngIf",!s.isLoading),t.xp6(1),t.Q6J("ngIf",s.isLoading)}},dependencies:[M.mk,M.sg,M.O5,p.lC,nt.X,X,rt,q.LS,I.Hw,x.VK,x.OP,x.p6,lt.KE,_.gD,dt.ey,ct.O,O.JJ,pt.r,O.oH,q._s,m.X$],styles:[".main[_ngcontent-%COMP%]{overflow-y:auto;overflow-x:hidden}.main__tiles[_ngcontent-%COMP%]{display:block;padding-bottom:32px;--scrollbar-background: var(--color-light)}@media only screen and (max-width: 1024px){.main__tiles[_ngcontent-%COMP%]{padding-bottom:64px}}@media only screen and (min-width: 1025px){.main[_ngcontent-%COMP%]{margin-inline-start:24px;margin-inline-end:24px}.main__details-or-edit[_ngcontent-%COMP%]{display:grid;grid-template-rows:1fr;grid-template-columns:337px 1fr}}@media only screen and (min-width: 1025px) and (max-width: 1366px){.main__details-or-edit[_ngcontent-%COMP%]{grid-template-columns:280px 1fr}}@media only screen and (min-width: 1025px) and (max-width: 1366px){.main[_ngcontent-%COMP%]{margin-inline-start:16px;margin-inline-end:16px}}@media only screen and (min-width: 1025px){.main--loader[_ngcontent-%COMP%]{overflow:hidden}}@media only screen and (min-width: 1025px){.post-list[_ngcontent-%COMP%]{margin-inline-end:8px;border-radius:4px}.post-list__scroll[_ngcontent-%COMP%]{overflow-y:auto;scroll-behavior:smooth;-webkit-overflow-scrolling:touch}.post-list__color[_ngcontent-%COMP%]{background:var(--color-light);--scrollbar-background: var(--color-light)}}.masonry-wrapper[_ngcontent-%COMP%]{display:block;width:100%;margin:0 auto}@media only screen and (max-width: 1024px){.masonry-wrapper[_ngcontent-%COMP%]{width:calc(100% - 16px)}}@media only screen and (max-width: 768px){.masonry-wrapper[_ngcontent-%COMP%]{width:calc(100% - 32px)}}.post[_ngcontent-%COMP%]{display:block;width:100%;margin:0 0 16px}@media only screen and (min-width: 769px){.post__tiles[_ngcontent-%COMP%]{margin:0 8px 16px;width:calc(33.3333% - 18px)}}@media only screen and (min-width: 769px) and (max-width: 1640px){.post__tiles[_ngcontent-%COMP%]{width:calc(50% - 18px)}}@media only screen and (min-width: 769px){.post__details-or-edit[_ngcontent-%COMP%]{width:calc(100% - 32px)}}@media only screen and (min-width: 769px) and (max-width: 1366px){.post__details-or-edit[_ngcontent-%COMP%]{width:calc(100% - 16px)}}@media only screen and (min-width: 769px) and (max-width: 1024px){.post__details-or-edit[_ngcontent-%COMP%]{margin:0 8px 16px;width:calc(50% - 18px)}}@media only screen and (min-width: 769px) and (min-width: 1025px){.post__details-or-edit[_ngcontent-%COMP%]{margin-inline-start:0;transition:margin-inline-start .35s ease}}@media only screen and (min-width: 1025px){.active--postcard[_ngcontent-%COMP%]{margin-inline-start:16px;box-shadow:0 8px 10px 0 rgba(var(--color-light-contrast-rgb),.05);transition:margin-inline-start .35s ease}}@media only screen and (min-width: 1025px) and (max-width: 1366px){.active--postcard[_ngcontent-%COMP%]{margin-inline-start:8px}}.left-margin[_ngcontent-%COMP%]{margin-inline-start:16px}@media only screen and (max-width: 1366px){.left-margin[_ngcontent-%COMP%]{margin-inline-start:8px}}.loader[_ngcontent-%COMP%]{padding:12px 0;margin-inline-end:8px}.loader--border[_ngcontent-%COMP%]{border:1px solid var(--color-neutral-20);border-radius:4px}.loader--skeleton[_ngcontent-%COMP%]{margin:0 auto 12px;width:calc(100% - 24px);min-height:135px;border-radius:4px;box-shadow:inset 0 0 0 1px var(--color-neutral-30);background:var(--color-neutral-20)}.loader--spinner[_ngcontent-%COMP%]{display:block;margin-top:20vh;margin-bottom:20vh}.posts-empty[_ngcontent-%COMP%]{width:100%;display:block;margin:20vh 0;font-size:16px;line-height:1.5;text-align:center}.load-more[_ngcontent-%COMP%]{display:block;min-width:132px;font-size:14px;line-height:1.6;font-weight:500;margin:16px auto 20px;letter-spacing:-.005em}.endofPosts[_ngcontent-%COMP%]{padding:20px 0;font-size:16px;text-align:center}.feed-page[_ngcontent-%COMP%]{min-height:100%;height:100%;display:flex;flex-direction:column}@media only screen and (min-width: 1025px){.feed-page[_ngcontent-%COMP%]{margin-inline-start:10px;transition:margin-inline-start .35s ease}}@media only screen and (min-width: 1025px){.feed-page[_ngcontent-%COMP%]:not(.feed-page--no-offset){margin-inline-start:220px}}@media only screen and (min-width: 1025px) and (max-width: 1366px){.feed-page[_ngcontent-%COMP%]:not(.feed-page--no-offset){margin-inline-start:200px}}.feed-page--filters-visible[_ngcontent-%COMP%]{padding-top:56px}.feed-page__controls-panel[_ngcontent-%COMP%]{display:flex;align-items:center;padding:16px 24px;justify-content:space-between;background:var(--color-neutral-10)}@media only screen and (max-width: 1366px){.feed-page__controls-panel[_ngcontent-%COMP%]{padding-left:16px;padding-right:16px}}@media only screen and (max-width: 1024px){.feed-page__controls-panel[_ngcontent-%COMP%]{display:block;padding-top:16px;padding-bottom:16px}}.feed-page__controls[_ngcontent-%COMP%]{display:flex;margin:0 -8px;align-items:center;justify-content:flex-end}@media only screen and (max-width: 1366px){.feed-page__controls[_ngcontent-%COMP%]{margin-left:-4px;margin-right:-4px}}@media only screen and (max-width: 1024px){.feed-page__controls[_ngcontent-%COMP%]{justify-content:space-between}}@media only screen and (max-width: 1024px){.feed-page__controls--actions[_ngcontent-%COMP%]{left:0;right:0;bottom:0;margin:0;z-index:500;position:fixed;min-height:88px;padding:8px 16px;background:var(--color-neutral-10);border-top:1px solid var(--color-neutral-40)}}.feed-page__controls__inner[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start}.feed-page__controls[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:146px}@media only screen and (max-width: 1366px){.feed-page__controls[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:132px}}.feed-page__controls[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]  .mat-form-field-wrapper{padding-bottom:0}.feed-page__controls[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]  .mat-select-value{padding-inline-end:0;padding-inline-start:24px}@media only screen and (max-width: 1366px){.feed-page__controls[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]  .mat-select-value{padding-inline-start:16px}}.feed-page__controls[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]  .mat-select-arrow-wrapper{width:32px;height:32px;margin-inline-start:8px;margin-inline-end:24px}@media only screen and (max-width: 1366px){.feed-page__controls[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]  .mat-select-arrow-wrapper{margin-inline-end:8px}}.feed-page__control[_ngcontent-%COMP%]{margin:0 8px}@media only screen and (max-width: 1366px){.feed-page__control[_ngcontent-%COMP%]{margin-left:4px;margin-right:4px}}@media only screen and (max-width: 1024px){.feed-page__control[_ngcontent-%COMP%]{display:flex;--min-width: 64px;min-height:48px;align-items:center;justify-content:center}.feed-page__control--bulk[_ngcontent-%COMP%]{flex:1 1 100%;--max-width: 320px}}@media only screen and (max-width: 1366px) and (min-width: 1025px){.feed-page__controls-panel--bulk-visible[_ngcontent-%COMP%]   .feed-page__control--sorting[_ngcontent-%COMP%]{display:none}}.feed-page__info-panel[_ngcontent-%COMP%]{display:flex;padding-top:20px;padding-inline-start:60px;padding-inline-end:24px;align-items:flex-start;justify-content:space-between}@media only screen and (max-width: 1366px){.feed-page__info-panel[_ngcontent-%COMP%]{padding-inline-end:16px}}.feed-page__results-info[_ngcontent-%COMP%]{display:block;font-weight:600;font-size:14px;line-height:17px;color:var(--color-neutral-100)}.feed-page__results-info__dim[_ngcontent-%COMP%]{color:var(--color-neutral-70)}.feed-page__mode-switcher[_ngcontent-%COMP%]{display:flex;align-items:center;margin-inline-start:20px;margin-inline-end:-4px;justify-content:flex-start}.feed-page__mode-switcher__button[_ngcontent-%COMP%]{--size: 40px;margin:0 4px}.feed-page__mode-switcher__button[_ngcontent-%COMP%]  .mzima-button--primary.mzima-button--outline{--hover-background-color: var(--color-primary-100)}"]})};V=(0,F.gn)([(0,E.c)(),(0,F.w6)("design:paramtypes",[p.F0,p.gz,R.PJ,R.lF,S.Yd,S.mj,S.r,M.Ye,W.h,h.uw,m.sK,Y.T,d.ux])],V);var Z=g(9654);const ne=[{path:"",component:V,children:[{path:"",redirectTo:"",pathMatch:"full"},{path:":id/view",component:u.kg,canActivate:[Z.V],data:{ogTitle:"nav.feed"}},{path:":id/edit",component:u.u3,canActivate:[Z.V],data:{ogTitle:"nav.feed"}},{path:":id/not-found",component:u.$n,canActivate:[Z.V],data:{ogTitle:"nav.feed"}},{path:":id/not-allowed",component:u.UB,canActivate:[Z.V],data:{ogTitle:"nav.feed"}}]},{path:"collection",redirectTo:"",children:[{path:":id",component:V,data:{view:"collection"},children:[{path:":id/view",component:u.kg,canActivate:[Z.V],data:{ogTitle:"nav.feed"}},{path:":id/edit",component:u.u3,canActivate:[Z.V],data:{ogTitle:"nav.feed"}},{path:":id/not-found",component:u.$n,canActivate:[Z.V],data:{ogTitle:"nav.feed"}},{path:":id/not-allowed",component:u.UB,canActivate:[Z.V],data:{ogTitle:"nav.feed"}}]}]},{path:"search",redirectTo:"",children:[{path:":id",component:V,data:{view:"search"}}]}];class K{static \u0275fac=function(e){return new(e||K)};static \u0275mod=t.oAB({type:K});static \u0275inj=t.cJS({imports:[p.Bz.forChild(ne),p.Bz]})}var ie=g(45948),oe=g(17733);class ${static \u0275fac=function(e){return new(e||$)};static \u0275mod=t.oAB({type:$});static \u0275inj=t.cJS({imports:[M.ez,K,ie.PostModule,at,q.JX,L.ot,I.Ps,x.Tx,_.LD,m.aw,l.F,O.u5,oe.e,C.Pn,O.UX]})}}}]);
//# sourceMappingURL=992.581fdc56d4d6eff9.js.map