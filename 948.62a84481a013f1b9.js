"use strict";(self.webpackChunkweb_mzima_client=self.webpackChunkweb_mzima_client||[]).push([[948],{23149:(tt,V,l)=>{l.d(V,{p:()=>e});var o=l(39609);class e{transform(D,w,h="asc"){return D.sort((N,S)=>N[w]<S[w]?"asc"===h?-1:1:N[w]>S[w]?"asc"===h?1:-1:0),D}static \u0275fac=function(w){return new(w||e)};static \u0275pipe=o.Yjl({name:"sortByField",type:e,pure:!0})}},405:(tt,V,l)=>{l.d(V,{$:()=>Z});var o=l(31415),e=l(39609),A=l(74327),D=l(59132),w=l(31020),h=l(49119),N=l(51167),S=l(69420),F=l(81547),Y=l(10742),k=l(52954),m=l(37661),c=l(53625),f=l(32460),b=l(93149);function C(x,g){if(1&x){const u=e.EpF();e.TgZ(0,"mzima-client-button",9),e.NdJ("buttonClick",function(y){e.CHM(u);const W=e.oxw();return e.KtG(W.editPost(y))}),e._UZ(1,"mat-icon",10),e.qZA()}2&x&&(e.Q6J("iconOnly",!0),e.xp6(1),e.Q6J("data-qa","edit-post"))}function z(x,g){if(1&x&&(e.TgZ(0,"mzima-client-button",11),e.NdJ("click",function(v){return v.stopPropagation()}),e._UZ(1,"mat-icon",12),e.qZA()),2&x){e.oxw();const u=e.MAs(6);e.Q6J("iconOnly",!0)("matMenuTriggerFor",u),e.xp6(1),e.Q6J("data-qa","post-menu")}}function et(x,g){if(1&x){const u=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){e.CHM(u);const y=e.oxw();return e.KtG(y.addToCollection())}),e._UZ(1,"mat-icon",14),e._uU(2),e.ALo(3,"translate"),e.qZA()}2&x&&(e.Q6J("data-qa","add-to-collection"),e.xp6(2),e.hij(" ",e.lcZ(3,2,"set.add_to_collection")," "))}function _(x,g){if(1&x){const u=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){e.CHM(u);const y=e.oxw(2);return e.KtG(y.publish())}),e._UZ(1,"mat-icon",15),e._uU(2),e.ALo(3,"translate"),e.qZA()}2&x&&(e.Q6J("data-qa","btn-publish-post"),e.xp6(2),e.hij(" ",e.lcZ(3,2,"post.post_actions.publish")," "))}function M(x,g){if(1&x){const u=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){e.CHM(u);const y=e.oxw(2);return e.KtG(y.underReview())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&x&&(e.Q6J("data-qa","btn-underReview-post"),e.xp6(1),e.hij(" ",e.lcZ(2,2,"post.post_actions.put_under_review")," "))}function P(x,g){if(1&x){const u=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){e.CHM(u);const y=e.oxw(2);return e.KtG(y.archive())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&x&&(e.Q6J("data-qa","btn-archive-post"),e.xp6(1),e.hij(" ",e.lcZ(2,2,"post.post_actions.archive")," "))}function I(x,g){if(1&x&&(e.ynx(0),e._UZ(1,"hr"),e.YNc(2,_,4,4,"button",7),e.YNc(3,M,3,4,"button",7),e.YNc(4,P,3,4,"button",7),e.BQk()),2&x){const u=e.oxw();e.xp6(2),e.Q6J("ngIf",u.post.status!==u.PostStatus.Published),e.xp6(1),e.Q6J("ngIf",u.post.status!==u.PostStatus.Draft),e.xp6(1),e.Q6J("ngIf",u.post.status!==u.PostStatus.Archived)}}function K(x,g){if(1&x){const u=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){e.CHM(u);const y=e.oxw();return e.KtG(y.deletePost())}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&x&&(e.Q6J("data-qa","btn-delete-post"),e.xp6(1),e.hij(" ",e.lcZ(2,2,"post.post_actions.delete")," "))}class Z extends w.H{sessionService;breakpointService;postsService;dialog;confirmModalService;translate;eventBusService;snackBar;PostStatus=h.$4;post;editable;feedView;deleteable;edit=new e.vpe;refresh=new e.vpe;deleted=new e.vpe;statusChanged=new e.vpe;constructor(g,u,v,y,W,lt,dt,ct){super(g,u),this.sessionService=g,this.breakpointService=u,this.postsService=v,this.dialog=y,this.confirmModalService=W,this.translate=lt,this.eventBusService=dt,this.snackBar=ct,this.checkDesktop(),this.getUserData()}loadData(){}addToCollection(){this.dialog.open(A.Ur,{width:"100%",maxWidth:"768px",data:this.post,panelClass:"modal"}).afterClosed().subscribe({next:u=>{this.refresh.emit(),u&&console.log(u)}})}underReview(){this.postsService.updateStatus(this.post.id,h.$4.Draft).subscribe(g=>{this.post=g.result,this.statusChanged.emit()})}publish(){h.l7.isAllRequiredCompleted(this.post)?this.postsService.updateStatus(this.post.id,h.$4.Published).subscribe(g=>{this.post=g.result,this.statusChanged.emit()}):this.showMessage(this.translate.instant("notify.post.unfinished_post_task"),"error",5e3)}archive(){this.postsService.updateStatus(this.post.id,h.$4.Archived).subscribe(g=>{this.post=g.result,this.statusChanged.emit()})}deletePost(){var g=this;return(0,o.Z)(function*(){!(yield g.confirmModalService.open({title:g.translate.instant("notify.post.destroy_confirm")}))||g.postsService.delete(g.post.id).subscribe(v=>{g.post=v,g.deleted.emit(),g.confirmModalService.open({title:g.translate.instant("notify.confirm_modal.deleted.success"),description:`<p>${g.translate.instant("notify.confirm_modal.deleted.success_description",{count:"1 post"})}</p>`,buttonSuccess:g.translate.instant("notify.confirm_modal.deleted.success_button")})})})()}editPost(g){g.stopPropagation(),this.feedView?this.eventBusService.next({type:"EDIT_POST",payload:this.post}):this.post.allowed_privileges.includes("update")&&this.edit.emit()}sharePost(){event?.stopPropagation(),this.dialog.open(A.sq,{width:"100%",maxWidth:564,panelClass:"modal",data:{postId:this.post.id,title:this.post.title,description:this.post.content,label:this.translate.instant("share.share_post")}})}showMessage(g,u,v=3e3){this.snackBar.open(g,"Close",{panelClass:[u],duration:v})}static \u0275fac=function(u){return new(u||Z)(e.Y36(D.mj),e.Y36(D.r),e.Y36(h.PJ),e.Y36(S.uw),e.Y36(N.h),e.Y36(F.sK),e.Y36(D.Yd),e.Y36(Y.ux))};static \u0275cmp=e.Xpm({type:Z,selectors:[["app-post-head"]],inputs:{post:"post",editable:"editable",feedView:"feedView",deleteable:"deleteable"},outputs:{edit:"edit",refresh:"refresh",deleted:"deleted",statusChanged:"statusChanged"},features:[e.qOj],decls:10,vars:8,consts:[[1,"post-head"],["fill","clear","color","gray","tabindex","-1","class","post-head__control",3,"iconOnly","buttonClick",4,"ngIf"],["fill","clear","color","gray","tabindex","-1",1,"post-head__control","post-head__control--share",3,"iconOnly","buttonClick"],["icon","","svgIcon","share",3,"data-qa"],["fill","clear","color","gray","tabindex","-1","class","post-head__control post-head__control--dots",3,"iconOnly","matMenuTriggerFor","click",4,"ngIf"],["xPosition","before"],["actions","matMenu"],["mat-menu-item","",3,"data-qa","click",4,"ngIf"],[4,"ngIf"],["fill","clear","color","gray","tabindex","-1",1,"post-head__control",3,"iconOnly","buttonClick"],["icon","","svgIcon","edit-post",3,"data-qa"],["fill","clear","color","gray","tabindex","-1",1,"post-head__control","post-head__control--dots",3,"iconOnly","matMenuTriggerFor","click"],["icon","","svgIcon","dots",3,"data-qa"],["mat-menu-item","",3,"data-qa","click"],["svgIcon","collections"],["svgIcon","sort-up"]],template:function(u,v){1&u&&(e.TgZ(0,"div",0),e.YNc(1,C,2,2,"mzima-client-button",1),e.TgZ(2,"mzima-client-button",2),e.NdJ("buttonClick",function(){return v.sharePost()}),e._UZ(3,"mat-icon",3),e.qZA(),e.YNc(4,z,2,3,"mzima-client-button",4),e.TgZ(5,"mat-menu",5,6),e.YNc(7,et,4,4,"button",7),e.YNc(8,I,5,3,"ng-container",8),e.YNc(9,K,3,4,"button",7),e.qZA()()),2&u&&(e.xp6(1),e.Q6J("ngIf",v.editable),e.xp6(1),e.Q6J("iconOnly",!0),e.xp6(1),e.Q6J("data-qa","share-post"),e.uIk("post",v.post.id),e.xp6(1),e.Q6J("ngIf",!(null==v.user||!v.user.userId)),e.xp6(3),e.Q6J("ngIf",(null==v.user||null==v.user.permissions?null:v.user.permissions.includes("Manage Posts"))||(null==v.user||null==v.user.permissions?null:v.user.permissions.includes("Manage Collections and Saved Searches"))),e.xp6(1),e.Q6J("ngIf",null==v.post.allowed_privileges?null:v.post.allowed_privileges.includes("change_status")),e.xp6(1),e.Q6J("ngIf",v.deleteable))},dependencies:[k.O5,m.Hw,c.xG,f.VK,f.OP,f.p6,b.r,F.X$],styles:[".post-head[_ngcontent-%COMP%]{display:flex;margin:0 -12px;align-items:center;justify-content:flex-end}.post-head__control[_ngcontent-%COMP%]{--size: 32px;margin:0 8px}.post-head__control--dots[_ngcontent-%COMP%]{--size: 24px;--icon-size: 24px}"]})}},92477:(tt,V,l)=>{l.d(V,{g:()=>m});var o=l(39609),e=l(52954),A=l(53625),D=l(81547),w=l(85140);function h(c,f){if(1&c&&(o.TgZ(0,"span",12),o._uU(1),o.qZA()),2&c){const b=o.oxw();o.Q6J("data-qa","author"),o.xp6(1),o.hij(" ",b.author," ")}}function N(c,f){1&c&&(o.ynx(0),o._uU(1),o.ALo(2,"translate"),o.BQk()),2&c&&(o.xp6(1),o.Oqu(o.lcZ(2,1,"post.published")))}function S(c,f){1&c&&(o.ynx(0),o._uU(1),o.ALo(2,"translate"),o.BQk()),2&c&&(o.xp6(1),o.Oqu(o.lcZ(2,1,"post.draft")))}function F(c,f){1&c&&(o.ynx(0),o._uU(1),o.ALo(2,"translate"),o.BQk()),2&c&&(o.xp6(1),o.Oqu(o.lcZ(2,1,"post.archived")))}const Y=function(c,f,b){return{"post-info__status--published":c,"post-info__status--draft":f,"post-info__status--archived":b}},k=function(c){return{source:c}};class m{post;author;ngOnInit(){this.getUsername()}getUsername(){this.author=this.post.user?.realname||this.post.contact?.contact||this.post.author_realname||"Anonymous"}static \u0275fac=function(b){return new(b||m)};static \u0275cmp=o.Xpm({type:m,selectors:[["app-post-metadata"]],inputs:{post:"post"},decls:19,vars:23,consts:[[1,"post__border"],[1,"post-info"],[1,"post-info__visual"],[3,"alt","src"],[1,"post-info__content"],["class","post-info__username",3,"data-qa",4,"ngIf"],[1,"post-info__list"],[1,"post-info__item",3,"data-qa"],[1,"post-info__item"],[1,"post-info__status",3,"ngClass","data-qa"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"post-info__username",3,"data-qa"]],template:function(b,C){1&b&&(o._UZ(0,"span",0),o.TgZ(1,"div",1)(2,"div",2),o._UZ(3,"img",3),o.qZA(),o.TgZ(4,"div",4),o.YNc(5,h,2,2,"span",5),o.TgZ(6,"div",6)(7,"span",7),o._uU(8),o.ALo(9,"dateAgo"),o.qZA(),o.TgZ(10,"div",8)(11,"span",9),o.ynx(12,10),o.YNc(13,N,3,3,"ng-container",11),o.YNc(14,S,3,3,"ng-container",11),o.YNc(15,F,3,3,"ng-container",11),o.BQk(),o.qZA()(),o.TgZ(16,"span",8),o._uU(17),o.ALo(18,"translate"),o.qZA()()()()),2&b&&(o.xp6(3),o.MGl("src","//www.gravatar.com/avatar/",(null==C.post.user?null:C.post.user.gravatar)||"00000000000000000000000000000000","?d=retro&s=40",o.LSH),o.Q6J("alt",null==C.post.user?null:C.post.user.realname),o.xp6(2),o.Q6J("ngIf",C.author),o.xp6(2),o.Q6J("data-qa","post-date"),o.xp6(1),o.hij(" ",o.lcZ(9,12,C.post.post_date)," "),o.xp6(3),o.Q6J("ngClass",o.kEZ(17,Y,"published"===C.post.status,"draft"===C.post.status,"archived"===C.post.status))("data-qa","status"),o.xp6(1),o.Q6J("ngSwitch",C.post.status),o.xp6(1),o.Q6J("ngSwitchCase","published"),o.xp6(1),o.Q6J("ngSwitchCase","draft"),o.xp6(1),o.Q6J("ngSwitchCase","archived"),o.xp6(2),o.Oqu(o.xi3(18,14,"post.source",o.VKq(21,k,C.post.source))))},dependencies:[e.mk,e.O5,e.RF,e.n9,A.xG,D.X$,w.Ry],styles:['.post-info[_ngcontent-%COMP%]{display:flex;font-size:12px;color:#313538;font-weight:400;line-height:1.33;align-items:center;justify-content:flex-start}@media only screen and (max-width: 1024px){.post-info[_ngcontent-%COMP%]{padding-top:2px;padding-bottom:2px}}.post-info__visual[_ngcontent-%COMP%]{flex:0 0 34px;overflow:hidden;position:relative;border-radius:50%;margin-inline-end:16px}@media only screen and (max-width: 1024px){.post-info__visual[_ngcontent-%COMP%]{margin-inline-end:8px}}.post-info__visual[_ngcontent-%COMP%]:before{content:"";display:block;padding-top:100%}.post-info__visual[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{top:0;left:0;width:100%;height:100%;object-fit:cover;position:absolute}.post-info__content[_ngcontent-%COMP%]{flex:1 1 100%}.post-info__username[_ngcontent-%COMP%]{display:block;font-size:14px;line-height:1.3;margin-bottom:4px;word-break:break-word}@media only screen and (max-width: 1024px){.post-info__username[_ngcontent-%COMP%]{font-size:12px;margin-bottom:0;line-height:1.38}}.post-info__list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:0 -8px -4px;align-items:center;justify-content:flex-start;color:var(--color-neutral-80)}.post-info__item[_ngcontent-%COMP%]{padding:0 8px;margin-bottom:4px;position:relative}.post-info__item[_ngcontent-%COMP%]:not(:first-child):before{left:0;top:50%;content:"";border:1px solid;border-radius:50%;position:absolute;margin:-1px 0 0 -1px}.post-info__status[_ngcontent-%COMP%]{display:block;padding:2px 4px;border-radius:4px}.post-info__status--published[_ngcontent-%COMP%]{color:var(--color-neutral-70);background-color:var(--color-neutral-10)}.post-info__status--draft[_ngcontent-%COMP%]{color:var(--color-black);background-color:var(--color-primary-60)}.post-info__status--archived[_ngcontent-%COMP%]{color:var(--color-light);background-color:var(--color-neutral-100)}.post__border[_ngcontent-%COMP%]{top:0;bottom:0;width:10px;position:absolute;inset-inline-start:0;background:var(--color);border-end-start-radius:8px;border-start-start-radius:8px}@media only screen and (max-width: 1024px){.post__border[_ngcontent-%COMP%]{width:8px}}@media only screen and (max-width: 1024px){  .mat-dialog-content .post__border{top:-16px;bottom:-16px;inset-inline-start:-16px}}']})}},45948:(tt,V,l)=>{l.r(V),l.d(V,{PostModule:()=>ot});var o=l(59240),e=l(39609),A=l(79296),D=l(67605),w=l(1753),h=l(22828),N=l(83358),S=l(12733),F=l(55231),Y=l(21491),k=l(68751),m=l(44678),c=l(52954),f=l(94626),b=l(51637),C=l(95432),z=l(20576),et=l(235),_=l(93557),M=l(952),P=l(33695),I=l(37661),K=l(69420),Z=l(88757);const x=["ngx-mat-calendar-body",""];function g(r,n){if(1&r&&(e.TgZ(0,"tr",2)(1,"td",3),e._uU(2),e.qZA()()),2&r){const t=e.oxw();e.xp6(1),e.Udp("padding-top",t._cellPadding)("padding-bottom",t._cellPadding),e.uIk("colspan",t.numCols),e.xp6(1),e.hij(" ",t.label," ")}}function u(r,n){if(1&r&&(e.TgZ(0,"td",7),e._uU(1),e.qZA()),2&r){const t=e.oxw(2);e.Udp("padding-top",t._cellPadding)("padding-bottom",t._cellPadding),e.uIk("colspan",t._firstRowOffset),e.xp6(1),e.hij(" ",t._firstRowOffset>=t.labelMinRequiredCells?t.label:""," ")}}function v(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"td",8),e.NdJ("click",function(i){const d=e.CHM(t).$implicit,p=e.oxw(2);return e.KtG(p._cellClicked(d,i))}),e.TgZ(1,"div",9),e._uU(2),e.qZA(),e._UZ(3,"div",10),e.qZA()}if(2&r){const t=n.$implicit,a=n.index,i=e.oxw().index,s=e.oxw();e.Udp("width",s._cellWidth)("padding-top",s._cellPadding)("padding-bottom",s._cellPadding),e.ekj("mat-calendar-body-disabled",!t.enabled)("mat-calendar-body-active",s._isActiveCell(i,a))("mat-calendar-body-range-start",s._isRangeStart(t.compareValue))("mat-calendar-body-range-end",s._isRangeEnd(t.compareValue))("mat-calendar-body-in-range",s._isInRange(t.compareValue))("mat-calendar-body-comparison-bridge-start",s._isComparisonBridgeStart(t.compareValue,i,a))("mat-calendar-body-comparison-bridge-end",s._isComparisonBridgeEnd(t.compareValue,i,a))("mat-calendar-body-comparison-start",s._isComparisonStart(t.compareValue))("mat-calendar-body-comparison-end",s._isComparisonEnd(t.compareValue))("mat-calendar-body-in-comparison-range",s._isInComparisonRange(t.compareValue))("mat-calendar-body-preview-start",s._isPreviewStart(t.compareValue))("mat-calendar-body-preview-end",s._isPreviewEnd(t.compareValue))("mat-calendar-body-in-preview",s._isInPreview(t.compareValue)),e.Q6J("ngClass",t.cssClasses)("tabindex",s._isActiveCell(i,a)?0:-1),e.uIk("data-mat-row",i)("data-mat-col",a)("aria-label",t.ariaLabel)("aria-disabled",!t.enabled||null)("aria-selected",s._isSelected(t)),e.xp6(1),e.ekj("mat-calendar-body-selected",s._isSelected(t))("mat-calendar-body-today",s.todayValue===t.compareValue),e.xp6(1),e.hij(" ",t.displayValue," ")}}function y(r,n){if(1&r&&(e.TgZ(0,"tr",4),e.YNc(1,u,2,6,"td",5),e.YNc(2,v,4,44,"td",6),e.qZA()),2&r){const t=n.$implicit,a=n.index,i=e.oxw();e.xp6(1),e.Q6J("ngIf",0===a&&i._firstRowOffset),e.xp6(1),e.Q6J("ngForOf",t)}}function W(r,n){if(1&r&&(e.TgZ(0,"th",5),e._uU(1),e.qZA()),2&r){const t=n.$implicit;e.uIk("aria-label",t.long),e.xp6(1),e.Oqu(t.narrow)}}const lt=["*"];function dt(r,n){}function ct(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"ngx-mat-month-view",5),e.NdJ("activeDateChange",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.activeDate=i)})("selectedChange",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s._dateSelected(i))})("_userSelection",function(){e.CHM(t);const i=e.oxw();return e.KtG(i._userSelected())}),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("activeDate",t.activeDate)("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)}}function Bt(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"ngx-mat-year-view",6),e.NdJ("activeDateChange",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.activeDate=i)})("monthSelected",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s._monthSelectedInYearView(i))})("selectedChange",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s._goToDateInView(i,"month"))}),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("activeDate",t.activeDate)("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)}}function Qt(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"ngx-mat-multi-year-view",7),e.NdJ("activeDateChange",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.activeDate=i)})("yearSelected",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s._yearSelectedInMultiYearView(i))})("selectedChange",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s._goToDateInView(i,"year"))}),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("activeDate",t.activeDate)("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)}}function zt(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"td")(1,"button",10),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.change("second",!0))}),e.TgZ(2,"mat-icon"),e._uU(3,"expand_less"),e.qZA()()()}if(2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("disabled",t.disabled||t.disableMinute)}}function Kt(r,n){1&r&&e._UZ(0,"td",6)}function Wt(r,n){1&r&&e._UZ(0,"td")}function $t(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"button",10),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.change("hour",!0))}),e.TgZ(3,"mat-icon"),e._uU(4,"expand_less"),e.qZA()()(),e._UZ(5,"td"),e.TgZ(6,"td")(7,"button",10),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.change("minute",!0))}),e.TgZ(8,"mat-icon"),e._uU(9,"expand_less"),e.qZA()()(),e._UZ(10,"td"),e.YNc(11,zt,4,1,"td",3),e.YNc(12,Kt,1,0,"td",8),e.YNc(13,Wt,1,0,"td",3),e.qZA()}if(2&r){const t=e.oxw();e.xp6(2),e.Q6J("disabled",t.disabled),e.xp6(5),e.Q6J("disabled",t.disabled||t.disableMinute),e.xp6(4),e.Q6J("ngIf",t.showSeconds),e.xp6(1),e.Q6J("ngIf",t.enableMeridian),e.xp6(1),e.Q6J("ngIf",t.enableMeridian)}}function jt(r,n){1&r&&(e.TgZ(0,"td",6),e._uU(1,":"),e.qZA())}function qt(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"td")(1,"mat-form-field",4)(2,"input",11),e.NdJ("input",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.formatInput(i.target))})("keydown.ArrowUp",function(i){return e.CHM(t),e.oxw().change("second",!0),e.KtG(i.preventDefault())})("keydown.ArrowDown",function(i){return e.CHM(t),e.oxw().change("second",!1),e.KtG(i.preventDefault())})("blur",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.change("second"))}),e.qZA()()()}}function Xt(r,n){1&r&&e._UZ(0,"td",6)}function te(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"td",12)(1,"button",13),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.toggleMeridian())}),e._uU(2),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("color",t.color)("disabled",t.disabled),e.xp6(1),e.hij(" ",t.meridian," ")}}function ee(r,n){1&r&&e._UZ(0,"td")}function ae(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"td")(1,"button",14),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.change("second",!1))}),e.TgZ(2,"mat-icon"),e._uU(3,"expand_more"),e.qZA()()()}if(2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("disabled",t.disabled||t.disableMinute)}}function ie(r,n){1&r&&e._UZ(0,"td",6)}function ne(r,n){1&r&&e._UZ(0,"td")}function re(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"button",14),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.change("hour",!1))}),e.TgZ(3,"mat-icon"),e._uU(4,"expand_more"),e.qZA()()(),e._UZ(5,"td"),e.TgZ(6,"td")(7,"button",14),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.change("minute",!1))}),e.TgZ(8,"mat-icon"),e._uU(9,"expand_more"),e.qZA()()(),e.YNc(10,ee,1,0,"td",3),e.YNc(11,ae,4,1,"td",3),e.YNc(12,ie,1,0,"td",8),e.YNc(13,ne,1,0,"td",3),e.qZA()}if(2&r){const t=e.oxw();e.xp6(2),e.Q6J("disabled",t.disabled),e.xp6(5),e.Q6J("disabled",t.disabled||t.disableMinute),e.xp6(3),e.Q6J("ngIf",t.showSeconds),e.xp6(1),e.Q6J("ngIf",t.showSeconds),e.xp6(1),e.Q6J("ngIf",t.enableMeridian),e.xp6(1),e.Q6J("ngIf",t.enableMeridian)}}function se(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",6)(1,"ngx-mat-timepicker",7),e.NdJ("ngModelChange",function(i){e.CHM(t);const s=e.oxw(2);return e.KtG(s.datepicker._selected=i)}),e.qZA()()}if(2&r){const t=e.oxw(2);e.ekj("disable-seconds",!t.datepicker._showSeconds),e.xp6(1),e.Q6J("showSpinners",t.datepicker._showSpinners)("showSeconds",t.datepicker._showSeconds)("disabled",t.datepicker._disabled)("stepHour",t.datepicker._stepHour)("stepMinute",t.datepicker._stepMinute)("stepSecond",t.datepicker._stepSecond)("ngModel",t.datepicker._selected)("color",t.datepicker._color)("enableMeridian",t.datepicker._enableMeridian)("disableMinute",t.datepicker._disableMinute)}}function oe(r,n){1&r&&(e.TgZ(0,"mat-icon"),e._uU(1,"done"),e.qZA())}function le(r,n){}function de(r,n){if(1&r){const t=e.EpF();e.ynx(0),e.YNc(1,se,2,12,"div",2),e.TgZ(2,"div",3)(3,"button",4),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.datepicker.ok())}),e.YNc(4,oe,2,0,"mat-icon",1),e.YNc(5,le,0,0,"ng-template",5),e.qZA()(),e.BQk()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.datepicker._hideTime),e.xp6(2),e.Q6J("color",t.datepicker._color)("disabled",!t.valid),e.xp6(1),e.Q6J("ngIf",!t.datepicker._customIcon),e.xp6(1),e.Q6J("cdkPortalOutlet",t._templateCustomIconPortal)}}const L=new e.OlP("ngx-mat-date-formats");class ht{constructor(n,t,a,i,s={},d=n,p){this.value=n,this.displayValue=t,this.ariaLabel=a,this.enabled=i,this.cssClasses=s,this.compareValue=d,this.rawValue=p}}let B=(()=>{class r{constructor(t,a){this._elementRef=t,this._ngZone=a,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new e.vpe,this.previewChange=new e.vpe,this._enterHandler=i=>{if(this._skipNextFocus&&"focus"===i.type)this._skipNextFocus=!1;else if(i.target&&this.isRange){const s=this._getCellFromElement(i.target);s&&this._ngZone.run(()=>this.previewChange.emit({value:s.enabled?s:null,event:i}))}},this._leaveHandler=i=>{null!==this.previewEnd&&this.isRange&&i.target&&pt(i.target)&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:i}))},a.runOutsideAngular(()=>{const i=t.nativeElement;i.addEventListener("mouseenter",this._enterHandler,!0),i.addEventListener("focus",this._enterHandler,!0),i.addEventListener("mouseleave",this._leaveHandler,!0),i.addEventListener("blur",this._leaveHandler,!0)})}_cellClicked(t,a){t.enabled&&this.selectedValueChange.emit({value:t.value,event:a})}_isSelected(t){return this.startValue===t.compareValue||this.endValue===t.compareValue}ngOnChanges(t){const a=t.numCols,{rows:i,numCols:s}=this;(t.rows||a)&&(this._firstRowOffset=i&&i.length&&i[0].length?s-i[0].length:0),(t.cellAspectRatio||a||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/s+"%"),(a||!this._cellWidth)&&(this._cellWidth=100/s+"%")}ngOnDestroy(){const t=this._elementRef.nativeElement;t.removeEventListener("mouseenter",this._enterHandler,!0),t.removeEventListener("focus",this._enterHandler,!0),t.removeEventListener("mouseleave",this._leaveHandler,!0),t.removeEventListener("blur",this._leaveHandler,!0)}_isActiveCell(t,a){let i=t*this.numCols+a;return t&&(i-=this._firstRowOffset),i==this.activeCell}_focusActiveCell(t=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.asObservable().pipe((0,N.q)(1)).subscribe(()=>{const a=this._elementRef.nativeElement.querySelector(".ngx-mat-calendar-body-active");a&&(t||(this._skipNextFocus=!0),a.focus())})})}_isRangeStart(t){return _t(t,this.startValue,this.endValue)}_isRangeEnd(t){return ut(t,this.startValue,this.endValue)}_isInRange(t){return mt(t,this.startValue,this.endValue,this.isRange)}_isComparisonStart(t){return _t(t,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(t,a,i){if(!this._isComparisonStart(t)||this._isRangeStart(t)||!this._isInRange(t))return!1;let s=this.rows[a][i-1];if(!s){const d=this.rows[a-1];s=d&&d[d.length-1]}return s&&!this._isRangeEnd(s.compareValue)}_isComparisonBridgeEnd(t,a,i){if(!this._isComparisonEnd(t)||this._isRangeEnd(t)||!this._isInRange(t))return!1;let s=this.rows[a][i+1];if(!s){const d=this.rows[a+1];s=d&&d[0]}return s&&!this._isRangeStart(s.compareValue)}_isComparisonEnd(t){return ut(t,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(t){return mt(t,this.comparisonStart,this.comparisonEnd,this.isRange)}_isPreviewStart(t){return _t(t,this.previewStart,this.previewEnd)}_isPreviewEnd(t){return ut(t,this.previewStart,this.previewEnd)}_isInPreview(t){return mt(t,this.previewStart,this.previewEnd,this.isRange)}_getCellFromElement(t){let a;if(pt(t)?a=t:pt(t.parentNode)&&(a=t.parentNode),a){const i=a.getAttribute("data-ngx-mat-row"),s=a.getAttribute("data-ngx-mat-col");if(i&&s)return this.rows[parseInt(i)][parseInt(s)]}return null}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.SBq),e.Y36(e.R0b))},r.\u0275cmp=e.Xpm({type:r,selectors:[["","ngx-mat-calendar-body",""]],hostAttrs:["role","grid","aria-readonly","true",1,"ngx-mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange"},exportAs:["NgxMatCalendarBody"],features:[e.TTD],attrs:x,decls:2,vars:2,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["aria-hidden","true","class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell",3,"ngClass","tabindex","mat-calendar-body-disabled","mat-calendar-body-active","mat-calendar-body-range-start","mat-calendar-body-range-end","mat-calendar-body-in-range","mat-calendar-body-comparison-bridge-start","mat-calendar-body-comparison-bridge-end","mat-calendar-body-comparison-start","mat-calendar-body-comparison-end","mat-calendar-body-in-comparison-range","mat-calendar-body-preview-start","mat-calendar-body-preview-end","mat-calendar-body-in-preview","width","paddingTop","paddingBottom","click",4,"ngFor","ngForOf"],["aria-hidden","true",1,"mat-calendar-body-label"],["role","gridcell",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],[1,"mat-calendar-body-cell-preview"]],template:function(t,a){1&t&&(e.YNc(0,g,3,6,"tr",0),e.YNc(1,y,3,2,"tr",1)),2&t&&(e.Q6J("ngIf",a._firstRowOffset<a.labelMinRequiredCells),e.xp6(1),e.Q6J("ngForOf",a.rows))},dependencies:[c.mk,c.sg,c.O5],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-cell{position:relative;height:0;line-height:0;text-align:center;outline:none;cursor:pointer}.mat-calendar-body-cell:before,.mat-calendar-body-cell:after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range):before,.mat-calendar-body-range-start:after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start):before,.mat-calendar-body-comparison-start:after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range):before,[dir=rtl] .mat-calendar-body-range-start:after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start):before,[dir=rtl] .mat-calendar-body-comparison-start:after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0 999px 999px 0}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range):before,.mat-calendar-body-range-end:after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end):before,.mat-calendar-body-comparison-end:after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range):before,[dir=rtl] .mat-calendar-body-range-end:after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end):before,[dir=rtl] .mat-calendar-body-comparison-end:after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:999px 0 0 999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end:after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start:after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end:after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end:after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start:after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start:after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected),.cdk-high-contrast-active .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected){outline:dotted 2px}[dir=rtl] .mat-calendar-body-label{text-align:right}@media (hover: none){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected){background-color:transparent}}\n'],encapsulation:2,changeDetection:0}),r})();function pt(r){return"TD"===r.nodeName}function _t(r,n,t){return null!==t&&n!==t&&r<t&&r===n}function ut(r,n,t){return null!==n&&n!==t&&r>=n&&r===t}function mt(r,n,t,a){return a&&null!==n&&null!==t&&n!==t&&r>=n&&r<=t}class E extends f._A{isSameTime(n,t){return null==n||null==t||this.getHour(n)===this.getHour(t)&&this.getMinute(n)===this.getMinute(t)&&this.getSecond(n)===this.getSecond(t)}copyTime(n,t){this.setHour(n,this.getHour(t)),this.setMinute(n,this.getMinute(t)),this.setSecond(n,this.getSecond(t))}compareDateWithTime(n,t,a){let i=super.compareDate(n,t)||this.getHour(n)-this.getHour(t)||this.getMinute(n)-this.getMinute(t);return a&&(i=i||this.getSecond(n)-this.getSecond(t)),i}setTimeByDefaultValues(n,t){if(!Array.isArray(t))throw Error("@Input DefaultTime should be an array");this.setHour(n,t[0]||0),this.setMinute(n,t[1]||0),this.setSecond(n,t[2]||0)}}const At=new e.OlP("NGX_MAT_DATE_RANGE_SELECTION_STRATEGY");let ce=(()=>{class r{constructor(t){this._dateAdapter=t}selectionFinished(t,a){let{start:i,end:s}=a;return null==i?i=t:null==s&&t&&this._dateAdapter.compareDate(t,i)>=0?s=t:(i=t,s=null),new m.C0(i,s)}createPreview(t,a){let i=null,s=null;return a.start&&!a.end&&t&&(i=a.start,s=t),new m.C0(i,s)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(E))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();const R={minHour:0,maxHour:24,minMinute:0,maxMinute:60,minSecond:0,maxSecond:60,meridian:12},he=/[^0-9]/g,Tt=/^(2[0-3]|[0-1][0-9]|[0-9])$/,pe=/^([0-5][0-9]|[0-9])$/,_e=/^([0-5][0-9]|[0-9])$/;function at(r){const n=r.toString();return n.length>1?n:`0${n}`}function O(r){return Error(`NgxMatDatepicker: No provider found for ${r}. You must import one of the following modules at your application root: NgxMatNativeDateModule, NgxMatMomentModule, or provide a custom implementation.`)}let St=(()=>{class r{constructor(t,a,i,s,d){if(this._changeDetectorRef=t,this._dateFormats=a,this._dateAdapter=i,this._dir=s,this._rangeStrategy=d,this._rerenderSubscription=A.w0.EMPTY,this.selectedChange=new e.vpe,this._userSelection=new e.vpe,this.activeDateChange=new e.vpe,!this._dateAdapter)throw O("NgxMatDateAdapter");if(!this._dateFormats)throw O("NGX_MAT_DATE_FORMATS");this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(t){const a=this._activeDate,i=this._getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(i,this.minDate,this.maxDate),this._hasSameMonthAndYear(a,this._activeDate)||this._init()}get selected(){return this._selected}set selected(t){this._selected=t instanceof m.C0?t:this._getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,S.O)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(t){const a=t.value,i=this._dateAdapter.getYear(this.activeDate),s=this._dateAdapter.getMonth(this.activeDate),d=this._dateAdapter.createDate(i,s,a);let p,G;this._selected instanceof m.C0?(p=this._getDateInCurrentMonth(this._selected.start),G=this._getDateInCurrentMonth(this._selected.end)):p=G=this._getDateInCurrentMonth(this._selected),(p!==a||G!==a)&&this.selectedChange.emit(d),this._userSelection.emit({value:d,event:t.event})}_handleCalendarBodyKeydown(t){const a=this._activeDate,i=this._isRtl();switch(t.keyCode){case h.oh:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,i?1:-1);break;case h.SV:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,i?-1:1);break;case h.LH:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case h.JH:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case h.Sd:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case h.uR:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case h.Ku:this.activeDate=t.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case h.VM:this.activeDate=t.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case h.K5:case h.L_:return void((!this.dateFilter||this.dateFilter(this._activeDate))&&(this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:t}),t.preventDefault()));case h.hY:return void(null!=this._previewEnd&&(this._previewStart=this._previewEnd=null,this.selectedChange.emit(null),this._userSelection.emit({value:null,event:t}),t.preventDefault(),t.stopPropagation()));default:return}this._dateAdapter.compareDate(a,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),t.preventDefault()}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let t=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(t)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(t){this._matCalendarBody._focusActiveCell(t)}_previewChanged({event:t,value:a}){if(this._rangeStrategy){const s=this._rangeStrategy.createPreview(a?a.rawValue:null,this.selected,t);this._previewStart=this._getCellCompareValue(s.start),this._previewEnd=this._getCellCompareValue(s.end),this._changeDetectorRef.detectChanges()}}_initWeekdays(){const t=this._dateAdapter.getFirstDayOfWeek(),a=this._dateAdapter.getDayOfWeekNames("narrow");let s=this._dateAdapter.getDayOfWeekNames("long").map((d,p)=>({long:d,narrow:a[p]}));this._weekdays=s.slice(t).concat(s.slice(0,t))}_createWeekCells(){const t=this._dateAdapter.getNumDaysInMonth(this.activeDate),a=this._dateAdapter.getDateNames();this._weeks=[[]];for(let i=0,s=this._firstWeekOffset;i<t;i++,s++){7==s&&(this._weeks.push([]),s=0);const d=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),i+1),p=this._shouldEnableDate(d),G=this._dateAdapter.format(d,this._dateFormats.display.dateA11yLabel),wt=this.dateClass?this.dateClass(d):void 0;this._weeks[this._weeks.length-1].push(new ht(i+1,a[i],G,p,wt,this._getCellCompareValue(d),d))}}_shouldEnableDate(t){return!!t&&(!this.minDate||this._dateAdapter.compareDate(t,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(t,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(t))}_getDateInCurrentMonth(t){return t&&this._hasSameMonthAndYear(t,this.activeDate)?this._dateAdapter.getDate(t):null}_hasSameMonthAndYear(t,a){return!(!t||!a||this._dateAdapter.getMonth(t)!=this._dateAdapter.getMonth(a)||this._dateAdapter.getYear(t)!=this._dateAdapter.getYear(a))}_getCellCompareValue(t){if(t){const a=this._dateAdapter.getYear(t),i=this._dateAdapter.getMonth(t),s=this._dateAdapter.getDate(t);return new Date(a,i,s).getTime()}return null}_getValidDateOrNull(t){return this._dateAdapter.isDateInstance(t)&&this._dateAdapter.isValid(t)?t:null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(t){t instanceof m.C0?(this._rangeStart=this._getCellCompareValue(t.start),this._rangeEnd=this._getCellCompareValue(t.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(t),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.sBO),e.Y36(L,8),e.Y36(E,8),e.Y36(b.Is,8),e.Y36(At,8))},r.\u0275cmp=e.Xpm({type:r,selectors:[["ngx-mat-month-view"]],viewQuery:function(t,a){if(1&t&&e.Gf(B,5),2&t){let i;e.iGM(i=e.CRH())&&(a._matCalendarBody=i.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"},exportAs:["ngxMatMonthView"],decls:7,vars:13,consts:[["role","presentation",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["colspan","7","aria-hidden","true",1,"mat-calendar-table-header-divider"],["ngx-mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","selectedValueChange","previewChange","keydown"],["scope","col"]],template:function(t,a){1&t&&(e.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),e.YNc(3,W,2,2,"th",2),e.qZA(),e.TgZ(4,"tr"),e._UZ(5,"th",3),e.qZA()(),e.TgZ(6,"tbody",4),e.NdJ("selectedValueChange",function(s){return a._dateSelected(s)})("previewChange",function(s){return a._previewChanged(s)})("keydown",function(s){return a._handleCalendarBodyKeydown(s)}),e.qZA()()),2&t&&(e.xp6(3),e.Q6J("ngForOf",a._weekdays),e.xp6(3),e.Q6J("label",a._monthLabel)("rows",a._weeks)("todayValue",a._todayDate)("startValue",a._rangeStart)("endValue",a._rangeEnd)("comparisonStart",a._comparisonRangeStart)("comparisonEnd",a._comparisonRangeEnd)("previewStart",a._previewStart)("previewEnd",a._previewEnd)("isRange",a._isRange)("labelMinRequiredCells",3)("activeCell",a._dateAdapter.getDate(a.activeDate)-1))},dependencies:[c.sg,B],encapsulation:2,changeDetection:0}),r})();const T=24;let kt=(()=>{class r{constructor(t,a,i){if(this._changeDetectorRef=t,this._dateAdapter=a,this._dir=i,this._rerenderSubscription=A.w0.EMPTY,this.selectedChange=new e.vpe,this.yearSelected=new e.vpe,this.activeDateChange=new e.vpe,!this._dateAdapter)throw O("NgxMatDateAdapter");this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(t){let a=this._activeDate;const i=this._getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(i,this.minDate,this.maxDate),Nt(this._dateAdapter,a,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(t){this._selected=t instanceof m.C0?t:this._getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setSelectedYear(t)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,S.O)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const a=this._dateAdapter.getYear(this._activeDate)-$(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let i=0,s=[];i<T;i++)s.push(a+i),4==s.length&&(this._years.push(s.map(d=>this._createCellForYear(d))),s=[]);this._changeDetectorRef.markForCheck()}_yearSelected(t){const a=t.value;this.yearSelected.emit(this._dateAdapter.createDate(a,0,1));let i=this._dateAdapter.getMonth(this.activeDate),s=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(a,i,1));this.selectedChange.emit(this._dateAdapter.createDate(a,i,Math.min(this._dateAdapter.getDate(this.activeDate),s)))}_handleCalendarBodyKeydown(t){const a=this._activeDate,i=this._isRtl();switch(t.keyCode){case h.oh:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,i?1:-1);break;case h.SV:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,i?-1:1);break;case h.LH:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case h.JH:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case h.Sd:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-$(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case h.uR:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,T-$(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case h.Ku:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?-240:-T);break;case h.VM:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?240:T);break;case h.K5:case h.L_:this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:t});break;default:return}this._dateAdapter.compareDate(a,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),t.preventDefault()}_getActiveCell(){return $(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_createCellForYear(t){let a=this._dateAdapter.getYearName(this._dateAdapter.createDate(t,0,1));return new ht(t,a,a,this._shouldEnableYear(t))}_shouldEnableYear(t){if(null==t||this.maxDate&&t>this._dateAdapter.getYear(this.maxDate)||this.minDate&&t<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let i=this._dateAdapter.createDate(t,0,1);this._dateAdapter.getYear(i)==t;i=this._dateAdapter.addCalendarDays(i,1))if(this.dateFilter(i))return!0;return!1}_getValidDateOrNull(t){return this._dateAdapter.isDateInstance(t)&&this._dateAdapter.isValid(t)?t:null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(t){if(this._selectedYear=null,t instanceof m.C0){const a=t.start||t.end;a&&(this._selectedYear=this._dateAdapter.getYear(a))}else t&&(this._selectedYear=this._dateAdapter.getYear(t))}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.sBO),e.Y36(E,8),e.Y36(b.Is,8))},r.\u0275cmp=e.Xpm({type:r,selectors:[["ngx-mat-multi-year-view"]],viewQuery:function(t,a){if(1&t&&e.Gf(B,5),2&t){let i;e.iGM(i=e.CRH())&&(a._matCalendarBody=i.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["ngxMatMultiYearView"],decls:5,vars:7,consts:[["role","presentation",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["ngx-mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","keydown"]],template:function(t,a){1&t&&(e.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),e._UZ(3,"th",2),e.qZA()(),e.TgZ(4,"tbody",3),e.NdJ("selectedValueChange",function(s){return a._yearSelected(s)})("keydown",function(s){return a._handleCalendarBodyKeydown(s)}),e.qZA()()),2&t&&(e.xp6(4),e.Q6J("rows",a._years)("todayValue",a._todayYear)("startValue",a._selectedYear)("endValue",a._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",a._getActiveCell()))},dependencies:[B],encapsulation:2,changeDetection:0}),r})();function Nt(r,n,t,a,i){const s=r.getYear(n),d=r.getYear(t),p=It(r,a,i);return Math.floor((s-p)/T)===Math.floor((d-p)/T)}function $(r,n,t,a){return function me(r,n){return(r%n+n)%n}(r.getYear(n)-It(r,t,a),T)}function It(r,n,t){let a=0;return t?a=r.getYear(t)-T+1:n&&(a=r.getYear(n)),a}let Et=(()=>{class r{constructor(t,a,i,s){if(this._changeDetectorRef=t,this._dateFormats=a,this._dateAdapter=i,this._dir=s,this._rerenderSubscription=A.w0.EMPTY,this.selectedChange=new e.vpe,this.monthSelected=new e.vpe,this.activeDateChange=new e.vpe,!this._dateAdapter)throw O("NgxMatDateAdapter");if(!this._dateFormats)throw O("NGX_MAT_DATE_FORMATS");this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(t){let a=this._activeDate;const i=this._getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(i,this.minDate,this.maxDate),this._dateAdapter.getYear(a)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(t){this._selected=t instanceof m.C0?t:this._getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setSelectedMonth(t)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,S.O)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(t){const a=t.value,i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),a,1);this.monthSelected.emit(i);const s=this._dateAdapter.getNumDaysInMonth(i);this.selectedChange.emit(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),a,Math.min(this._dateAdapter.getDate(this.activeDate),s)))}_handleCalendarBodyKeydown(t){const a=this._activeDate,i=this._isRtl();switch(t.keyCode){case h.oh:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,i?1:-1);break;case h.SV:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,i?-1:1);break;case h.LH:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case h.JH:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case h.Sd:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case h.uR:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case h.Ku:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?-10:-1);break;case h.VM:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?10:1);break;case h.K5:case h.L_:this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:t});break;default:return}this._dateAdapter.compareDate(a,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),t.preventDefault()}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let t=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(a=>a.map(i=>this._createCellForMonth(i,t[i]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_getMonthInCurrentYear(t){return t&&this._dateAdapter.getYear(t)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(t):null}_createCellForMonth(t,a){let i=this._dateAdapter.format(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1),this._dateFormats.display.monthYearA11yLabel);return new ht(t,a.toLocaleUpperCase(),i,this._shouldEnableMonth(t))}_shouldEnableMonth(t){const a=this._dateAdapter.getYear(this.activeDate);if(null==t||this._isYearAndMonthAfterMaxDate(a,t)||this._isYearAndMonthBeforeMinDate(a,t))return!1;if(!this.dateFilter)return!0;for(let s=this._dateAdapter.createDate(a,t,1);this._dateAdapter.getMonth(s)==t;s=this._dateAdapter.addCalendarDays(s,1))if(this.dateFilter(s))return!0;return!1}_isYearAndMonthAfterMaxDate(t,a){if(this.maxDate){const i=this._dateAdapter.getYear(this.maxDate),s=this._dateAdapter.getMonth(this.maxDate);return t>i||t===i&&a>s}return!1}_isYearAndMonthBeforeMinDate(t,a){if(this.minDate){const i=this._dateAdapter.getYear(this.minDate),s=this._dateAdapter.getMonth(this.minDate);return t<i||t===i&&a<s}return!1}_getValidDateOrNull(t){return this._dateAdapter.isDateInstance(t)&&this._dateAdapter.isValid(t)?t:null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(t){this._selectedMonth=t instanceof m.C0?this._getMonthInCurrentYear(t.start)||this._getMonthInCurrentYear(t.end):this._getMonthInCurrentYear(t)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.sBO),e.Y36(L,8),e.Y36(E,8),e.Y36(b.Is,8))},r.\u0275cmp=e.Xpm({type:r,selectors:[["ngx-mat-year-view"]],viewQuery:function(t,a){if(1&t&&e.Gf(B,5),2&t){let i;e.iGM(i=e.CRH())&&(a._matCalendarBody=i.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["ngxMatYearView"],decls:5,vars:9,consts:[["role","presentation",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["ngx-mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","keydown"]],template:function(t,a){1&t&&(e.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),e._UZ(3,"th",2),e.qZA()(),e.TgZ(4,"tbody",3),e.NdJ("selectedValueChange",function(s){return a._monthSelected(s)})("keydown",function(s){return a._handleCalendarBodyKeydown(s)}),e.qZA()()),2&t&&(e.xp6(4),e.Q6J("label",a._yearLabel)("rows",a._months)("todayValue",a._todayMonth)("startValue",a._selectedMonth)("endValue",a._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",a._dateAdapter.getMonth(a.activeDate)))},dependencies:[B],encapsulation:2,changeDetection:0}),r})(),ge=(()=>{class r{constructor(t,a,i,s,d){this._intl=t,this.calendar=a,this._dateAdapter=i,this._dateFormats=s,this.calendar.stateChanges.subscribe(()=>d.markForCheck())}get periodButtonText(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);const a=this._dateAdapter.getYear(this.calendar.activeDate)-$(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),i=a+T-1;return function ue(r,n){return`${r} \u2013 ${n}`}(this._dateAdapter.getYearName(this._dateAdapter.createDate(a,0,1)),this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1)))}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-T)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:T)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(t,a){return"month"==this.calendar.currentView?this._dateAdapter.getYear(t)==this._dateAdapter.getYear(a)&&this._dateAdapter.getMonth(t)==this._dateAdapter.getMonth(a):"year"==this.calendar.currentView?this._dateAdapter.getYear(t)==this._dateAdapter.getYear(a):Nt(this._dateAdapter,t,a,this.calendar.minDate,this.calendar.maxDate)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(m.S8),e.Y36((0,e.Gpc)(()=>vt)),e.Y36(E,8),e.Y36(L,8),e.Y36(e.sBO))},r.\u0275cmp=e.Xpm({type:r,selectors:[["ngx-mat-calendar-header"]],exportAs:["ngxMatCalendarHeader"],ngContentSelectors:lt,decls:9,vars:8,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","cdkAriaLive","polite",1,"mat-calendar-period-button",3,"click"],[1,"mat-calendar-arrow"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"]],template:function(t,a){1&t&&(e.F$t(),e.TgZ(0,"div",0)(1,"div",1)(2,"button",2),e.NdJ("click",function(){return a.currentPeriodClicked()}),e._uU(3),e._UZ(4,"div",3),e.qZA(),e._UZ(5,"div",4),e.Hsn(6),e.TgZ(7,"button",5),e.NdJ("click",function(){return a.previousClicked()}),e.qZA(),e.TgZ(8,"button",6),e.NdJ("click",function(){return a.nextClicked()}),e.qZA()()()),2&t&&(e.xp6(2),e.uIk("aria-label",a.periodButtonLabel),e.xp6(1),e.hij(" ",a.periodButtonText," "),e.xp6(1),e.ekj("mat-calendar-invert","month"!=a.calendar.currentView),e.xp6(3),e.Q6J("disabled",!a.previousEnabled()),e.uIk("aria-label",a.prevButtonLabel),e.xp6(1),e.Q6J("disabled",!a.nextEnabled()),e.uIk("aria-label",a.nextButtonLabel))},dependencies:[C.lW],encapsulation:2,changeDetection:0}),r})(),vt=(()=>{class r{constructor(t,a,i,s){if(this._dateAdapter=a,this._dateFormats=i,this._changeDetectorRef=s,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new e.vpe,this.yearSelected=new e.vpe,this.monthSelected=new e.vpe,this._userSelection=new e.vpe,this.stateChanges=new D.x,!this._dateAdapter)throw O("NgxDateAdapter");if(!this._dateFormats)throw O("NGX_MAT_DATE_FORMATS");this._intlChanges=t.changes.subscribe(()=>{s.markForCheck(),this.stateChanges.next()})}get startAt(){return this._startAt}set startAt(t){this._startAt=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}get selected(){return this._selected}set selected(t){this._selected=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}get minDate(){return this._minDate}set minDate(t){this._minDate=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}get activeDate(){return this._clampedActiveDate}set activeDate(t){this._clampedActiveDate=this._dateAdapter.clampDate(t,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(t){this._currentView=t,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck()}ngAfterContentInit(){this._calendarHeaderPortal=new o.C5(this.headerComponent||ge),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(t){const a=t.minDate||t.maxDate||t.dateFilter;if(a&&!a.firstChange){const i=this._getCurrentViewComponent();i&&(this._changeDetectorRef.detectChanges(),i._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell()}updateTodaysDate(){("month"==this.currentView?this.monthView:"year"==this.currentView?this.yearView:this.multiYearView).ngAfterContentInit()}_dateSelected(t){t&&!this._dateAdapter.sameDate(t,this.selected)&&this.selectedChange.emit(t)}_yearSelectedInMultiYearView(t){this.yearSelected.emit(t)}_monthSelectedInYearView(t){this.monthSelected.emit(t)}_userSelected(){this._userSelection.emit()}_goToDateInView(t,a){this.activeDate=t,this.currentView=a}_getValidDateOrNull(t){return this._dateAdapter.isDateInstance(t)&&this._dateAdapter.isValid(t)?t:null}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(m.S8),e.Y36(E,8),e.Y36(L,8),e.Y36(e.sBO))},r.\u0275cmp=e.Xpm({type:r,selectors:[["ngx-mat-calendar"]],viewQuery:function(t,a){if(1&t&&(e.Gf(St,5),e.Gf(Et,5),e.Gf(kt,5)),2&t){let i;e.iGM(i=e.CRH())&&(a.monthView=i.first),e.iGM(i=e.CRH())&&(a.yearView=i.first),e.iGM(i=e.CRH())&&(a.multiYearView=i.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",_userSelection:"_userSelection"},exportAs:["ngxMatCalendar"],features:[e.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","selectedChange","_userSelection",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","selectedChange","_userSelection"],[3,"activeDate","selected","dateFilter","maxDate","minDate","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","activeDateChange","yearSelected","selectedChange"]],template:function(t,a){1&t&&(e.YNc(0,dt,0,0,"ng-template",0),e.TgZ(1,"div",1),e.YNc(2,ct,1,6,"ngx-mat-month-view",2),e.YNc(3,Bt,1,5,"ngx-mat-year-view",3),e.YNc(4,Qt,1,5,"ngx-mat-multi-year-view",4),e.qZA()),2&t&&(e.Q6J("cdkPortalOutlet",a._calendarHeaderPortal),e.xp6(1),e.Q6J("ngSwitch",a.currentView),e.xp6(1),e.Q6J("ngSwitchCase","month"),e.xp6(1),e.Q6J("ngSwitchCase","year"),e.xp6(1),e.Q6J("ngSwitchCase","multi-year"))},dependencies:[c.RF,c.n9,o.Pl,St,Et,kt],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0}.mat-calendar-content{padding:0 8px 8px;outline:none}.mat-calendar-controls{display:flex;margin:5% calc(4.71429% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top-width:5px;border-top-style:solid;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button:after,.mat-calendar-next-button:after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button:after{border-left-width:2px;transform:translate(2px) rotate(-45deg)}.mat-calendar-next-button:after{border-right-width:2px;transform:translate(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider:after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}\n'],encapsulation:2,changeDetection:0}),r})(),Ot=(()=>{class r{constructor(t,a,i){if(this._dateAdapter=t,this.cd=a,this.formBuilder=i,this.disabled=!1,this.showSpinners=!0,this.stepHour=1,this.stepMinute=1,this.stepSecond=1,this.showSeconds=!1,this.disableMinute=!1,this.enableMeridian=!1,this.color="primary",this.meridian="AM",this._onChange=()=>{},this._onTouched=()=>{},this._destroyed=new D.x,this.pattern=Tt,!this._dateAdapter)throw O("NgxMatDateAdapter");this.form=this.formBuilder.group({hour:[{value:null,disabled:this.disabled},[_.kI.required,_.kI.pattern(Tt)]],minute:[{value:null,disabled:this.disabled},[_.kI.required,_.kI.pattern(pe)]],second:[{value:null,disabled:this.disabled},[_.kI.required,_.kI.pattern(_e)]]})}get hour(){let t=Number(this.form.controls.hour.value);return isNaN(t)?0:t}get minute(){let t=Number(this.form.controls.minute.value);return isNaN(t)?0:t}get second(){let t=Number(this.form.controls.second.value);return isNaN(t)?0:t}get valid(){return this.form.valid}ngOnInit(){this.form.valueChanges.pipe((0,F.R)(this._destroyed),(0,Y.b)(400)).subscribe(t=>{this._updateModel()})}ngOnChanges(t){(t.disabled||t.disableMinute)&&this._setDisableStates()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}writeValue(t){null!=t?this._model=t:(this._model=this._dateAdapter.today(),null!=this.defaultTime&&this._dateAdapter.setTimeByDefaultValues(this._model,this.defaultTime)),this._updateHourMinuteSecond()}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this._disabled=t,this.cd.markForCheck()}formatInput(t){t.value=t.value.replace(he,"")}toggleMeridian(){this.meridian="AM"===this.meridian?"PM":"AM",this.change("hour")}change(t,a){const i=this._getNextValueByProp(t,a);this.form.controls[t].setValue(at(i),{onlySelf:!1,emitEvent:!1}),this._updateModel()}_updateHourMinuteSecond(){let t=this._dateAdapter.getHour(this._model);const a=this._dateAdapter.getMinute(this._model),i=this._dateAdapter.getSecond(this._model);this.enableMeridian&&(t>=R.meridian?(t-=R.meridian,this.meridian="PM"):this.meridian="AM",0===t&&(t=R.meridian)),this.form.controls.hour.setValue(at(t)),this.form.controls.minute.setValue(at(a)),this.form.controls.second.setValue(at(i))}_updateModel(){let t=this.hour;this.enableMeridian&&("AM"===this.meridian&&t===R.meridian?t=0:"PM"===this.meridian&&t!==R.meridian&&(t+=R.meridian)),this._dateAdapter.setHour(this._model,t),this._dateAdapter.setMinute(this._model,this.minute),this._dateAdapter.setSecond(this._model,this.second),this._onChange(this._model)}_getNextValueByProp(t,a){const i=t[0].toUpperCase()+t.slice(1),s=R[`min${i}`];let p,d=R[`max${i}`];return"hour"===t&&this.enableMeridian&&(d=R.meridian),null==a?(p=this[t]%d,"hour"===t&&this.enableMeridian&&0===p&&(p=d)):(p=a?this[t]+this[`step${i}`]:this[t]-this[`step${i}`],"hour"===t&&this.enableMeridian?(p%=d+1,0===p&&(p=a?1:d)):p%=d,p=a?p>d?p-d+s:p:p<s?p-s+d:p),p}_setDisableStates(){this.disabled?this.form.disable():(this.form.enable(),this.disableMinute&&(this.form.get("minute").disable(),this.showSeconds&&this.form.get("second").disable()))}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(E,8),e.Y36(e.sBO),e.Y36(_.qu))},r.\u0275cmp=e.Xpm({type:r,selectors:[["ngx-mat-timepicker"]],hostAttrs:[1,"ngx-mat-timepicker"],inputs:{disabled:"disabled",showSpinners:"showSpinners",stepHour:"stepHour",stepMinute:"stepMinute",stepSecond:"stepSecond",showSeconds:"showSeconds",disableMinute:"disableMinute",enableMeridian:"enableMeridian",defaultTime:"defaultTime",color:"color"},exportAs:["ngxMatTimepicker"],features:[e._Bn([{provide:_.JU,useExisting:(0,e.Gpc)(()=>r),multi:!0}]),e.TTD],decls:18,vars:7,consts:[[3,"formGroup"],[1,"ngx-mat-timepicker-table"],[1,"ngx-mat-timepicker-tbody"],[4,"ngIf"],["appearance","legacy"],["type","text","matInput","","maxlength","2","formControlName","hour",3,"input","keydown.ArrowUp","keydown.ArrowDown","blur"],[1,"ngx-mat-timepicker-spacer"],["type","text","matInput","","maxlength","2","formControlName","minute",3,"input","keydown.ArrowUp","keydown.ArrowDown","blur"],["class","ngx-mat-timepicker-spacer",4,"ngIf"],["class","ngx-mat-timepicker-meridian",4,"ngIf"],["type","button","mat-icon-button","","aria-label","expand_less icon",3,"disabled","click"],["type","text","matInput","","maxlength","2","formControlName","second",3,"input","keydown.ArrowUp","keydown.ArrowDown","blur"],[1,"ngx-mat-timepicker-meridian"],["mat-button","","mat-stroked-button","",3,"color","disabled","click"],["type","button","mat-icon-button","","aria-label","expand_more icon",3,"disabled","click"]],template:function(t,a){1&t&&(e.TgZ(0,"form",0)(1,"table",1)(2,"tbody",2),e.YNc(3,$t,14,5,"tr",3),e.TgZ(4,"tr")(5,"td")(6,"mat-form-field",4)(7,"input",5),e.NdJ("input",function(s){return a.formatInput(s.target)})("keydown.ArrowUp",function(s){return a.change("hour",!0),s.preventDefault()})("keydown.ArrowDown",function(s){return a.change("hour",!1),s.preventDefault()})("blur",function(){return a.change("hour")}),e.qZA()()(),e.TgZ(8,"td",6),e._uU(9,":"),e.qZA(),e.TgZ(10,"td")(11,"mat-form-field",4)(12,"input",7),e.NdJ("input",function(s){return a.formatInput(s.target)})("keydown.ArrowUp",function(s){return a.change("minute",!0),s.preventDefault()})("keydown.ArrowDown",function(s){return a.change("minute",!1),s.preventDefault()})("blur",function(){return a.change("minute")}),e.qZA()()(),e.YNc(13,jt,2,0,"td",8),e.YNc(14,qt,3,0,"td",3),e.YNc(15,Xt,1,0,"td",8),e.YNc(16,te,3,3,"td",9),e.qZA(),e.YNc(17,re,14,6,"tr",3),e.qZA()()()),2&t&&(e.Q6J("formGroup",a.form),e.xp6(3),e.Q6J("ngIf",a.showSpinners),e.xp6(10),e.Q6J("ngIf",a.showSeconds),e.xp6(1),e.Q6J("ngIf",a.showSeconds),e.xp6(1),e.Q6J("ngIf",a.enableMeridian),e.xp6(1),e.Q6J("ngIf",a.enableMeridian),e.xp6(1),e.Q6J("ngIf",a.showSpinners))},dependencies:[c.O5,M.KE,P.Nt,_._Y,_.Fj,_.JJ,_.JL,_.nD,_.sg,_.u,I.Hw,C.lW],styles:[".ngx-mat-timepicker{font-size:13px}.ngx-mat-timepicker form{min-width:90px}.ngx-mat-timepicker form .ngx-mat-timepicker-table .ngx-mat-timepicker-tbody tr td{text-align:center}.ngx-mat-timepicker form .ngx-mat-timepicker-table .ngx-mat-timepicker-tbody tr td.ngx-mat-timepicker-spacer{font-weight:bold}.ngx-mat-timepicker form .ngx-mat-timepicker-table .ngx-mat-timepicker-tbody tr td.ngx-mat-timepicker-meridian .mat-button{min-width:64px;line-height:36px;min-width:0;border-radius:50%;width:36px;height:36px;padding:0;flex-shrink:0}.ngx-mat-timepicker form .ngx-mat-timepicker-table .ngx-mat-timepicker-tbody tr td .mat-icon-button{height:24px;width:24px;line-height:24px}.ngx-mat-timepicker form .ngx-mat-timepicker-table .ngx-mat-timepicker-tbody tr td .mat-icon-button .mat-icon{font-size:24px}.ngx-mat-timepicker form .ngx-mat-timepicker-table .ngx-mat-timepicker-tbody tr td .mat-form-field{width:20px;max-width:20px;text-align:center}\n"],encapsulation:2}),r})(),fe=0;const ve=(0,f.pj)(class{constructor(r){this._elementRef=r}});let Vt=(()=>{class r extends ve{constructor(t,a,i){super(t),this.cd=a,this._viewContainerRef=i}get valid(){return(this.datepicker.hideTime||this._timePicker&&this._timePicker.valid)&&this.datepicker.valid}get isViewMonth(){return!this._calendar||null==this._calendar.currentView||"month"==this._calendar.currentView}ngAfterViewInit(){this._calendar.focusActiveCell(),this.datepicker._customIcon&&(this._templateCustomIconPortal=new o.UE(this.datepicker._customIcon,this._viewContainerRef),this.cd.detectChanges())}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(e.s_b))},r.\u0275cmp=e.Xpm({type:r,selectors:[["ngx-mat-datetime-content"]],viewQuery:function(t,a){if(1&t&&(e.Gf(vt,5),e.Gf(Ot,5)),2&t){let i;e.iGM(i=e.CRH())&&(a._calendar=i.first),e.iGM(i=e.CRH())&&(a._timePicker=i.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(t,a){2&t&&(e.d8E("@transformPanel","enter"),e.ekj("mat-datepicker-content-touch",a.datepicker.touchUi))},inputs:{color:"color"},exportAs:["ngxMatDatetimeContent"],features:[e.qOj],decls:2,vars:12,consts:[["cdkTrapFocus","",3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","selectedChange","yearSelected","monthSelected"],[4,"ngIf"],["class","time-container",3,"disable-seconds",4,"ngIf"],[1,"actions"],["mat-button","","mat-stroked-button","","cdkFocusInitial","",3,"color","disabled","click"],[3,"cdkPortalOutlet"],[1,"time-container"],[3,"showSpinners","showSeconds","disabled","stepHour","stepMinute","stepSecond","ngModel","color","enableMeridian","disableMinute","ngModelChange"]],template:function(t,a){1&t&&(e.TgZ(0,"ngx-mat-calendar",0),e.NdJ("selectedChange",function(s){return a.datepicker.select(s)})("yearSelected",function(s){return a.datepicker._selectYear(s)})("monthSelected",function(s){return a.datepicker._selectMonth(s)}),e.qZA(),e.YNc(1,de,6,5,"ng-container",1)),2&t&&(e.Q6J("id",a.datepicker.id)("ngClass",a.datepicker.panelClass)("startAt",a.datepicker.startAt)("startView",a.datepicker.startView)("minDate",a.datepicker._minDate)("maxDate",a.datepicker._maxDate)("dateFilter",a.datepicker._dateFilter)("headerComponent",a.datepicker.calendarHeaderComponent)("selected",a.datepicker._selected)("dateClass",a.datepicker.dateClass)("@fadeInCalendar","enter"),e.xp6(1),e.Q6J("ngIf",a.isViewMonth))},dependencies:[c.mk,c.O5,o.Pl,_.JJ,_.On,I.Hw,C.lW,Ot,vt],styles:['.mat-datepicker-content{display:block;border-radius:4px;box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f}.mat-datepicker-content .mat-calendar{width:296px}.mat-datepicker-content .time-container{display:flex;position:relative;padding-top:5px;justify-content:center}.mat-datepicker-content .time-container.disable-seconds .ngx-mat-timepicker .table{margin-left:9px}.mat-datepicker-content .time-container:before{content:"";position:absolute;top:0;left:0;right:0;height:1px;background-color:#0000001f}.mat-datepicker-content .actions{display:flex;padding:5px 15px 10px;justify-content:flex-end}\n'],encapsulation:2,data:{animation:[m.E2.transformPanel,m.E2.fadeInCalendar]},changeDetection:0}),r})(),xe=(()=>{class r{constructor(t,a,i,s,d,p,G,wt){if(this._dialog=t,this._overlay=a,this._ngZone=i,this._viewContainerRef=s,this._dateAdapter=p,this._dir=G,this._document=wt,this.startView="month",this._defaultColor="primary",this._touchUi=!1,this._hideTime=!1,this.yearSelected=new e.vpe,this.monthSelected=new e.vpe,this.openedStream=new e.vpe,this.closedStream=new e.vpe,this._opened=!1,this._showSpinners=!0,this._showSeconds=!1,this._stepHour=1,this._stepMinute=1,this._stepSecond=1,this._enableMeridian=!1,this._hasBackdrop=!0,this.id="mat-datepicker-"+fe++,this._validSelected=null,this._focusedElementBeforeOpen=null,this._inputSubscription=A.w0.EMPTY,this.stateChanges=new D.x,this._selectedChanged=new D.x,this._minValidator=()=>!this._minDate||!this._selected||this._dateAdapter.compareDateWithTime(this._minDate,this._selected,this.showSeconds)<=0?null:{matDatetimePickerMin:{min:this._minDate,actual:this._selected}},this._maxValidator=()=>!this._maxDate||!this._selected||this._dateAdapter.compareDateWithTime(this._maxDate,this._selected,this.showSeconds)>=0?null:{matDatetimePickerMax:{max:this._maxDate,actual:this._selected}},!this._dateAdapter)throw O("NgxMatDateAdapter");this._scrollStrategy=d}get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.value:null)}set startAt(t){this._startAt=this._getValidDateOrNull(this._dateAdapter.deserialize(t))}get defaultColor(){return this._defaultColor}set defaultColor(t){this._defaultColor=t}get color(){return this._color||(this.datepickerInput?this.datepickerInput._getThemePalette():"primary")}set color(t){this._color=t}get touchUi(){return this._touchUi}set touchUi(t){this._touchUi=(0,z.Ig)(t)}get hideTime(){return this._hideTime}set hideTime(t){this._hideTime=(0,z.Ig)(t)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(t){const a=(0,z.Ig)(t);a!==this._disabled&&(this._disabled=a,this.stateChanges.next(a))}get opened(){return this._opened}set opened(t){t?this.open():this.close()}get showSpinners(){return this._showSpinners}set showSpinners(t){this._showSpinners=t}get showSeconds(){return this._showSeconds}set showSeconds(t){this._showSeconds=t}get stepHour(){return this._stepHour}set stepHour(t){this._stepHour=t}get stepMinute(){return this._stepMinute}set stepMinute(t){this._stepMinute=t}get stepSecond(){return this._stepSecond}set stepSecond(t){this._stepSecond=t}get enableMeridian(){return this._enableMeridian}set enableMeridian(t){this._enableMeridian=t}get disableMinute(){return this._disableMinute}set disableMinute(t){this._disableMinute=t}get defaultTime(){return this._defaultTime}set defaultTime(t){this._defaultTime=t}get _selected(){return this._validSelected}set _selected(t){this._validSelected=t}get _minDate(){return this.datepickerInput&&this.datepickerInput.min}get _maxDate(){return this.datepickerInput&&this.datepickerInput.max}get valid(){const t=this._minValidator(),a=this._maxValidator();return null==t&&null==a}get _dateFilter(){return this.datepickerInput&&this.datepickerInput._dateFilter}ngOnDestroy(){this.close(),this._popupRef&&(this._popupRef.dispose(),this._popupComponentRef=null),this._inputSubscription.unsubscribe(),this.stateChanges.complete()}select(t){this._dateAdapter.copyTime(t,this._selected),this._selected=t}_selectYear(t){this.yearSelected.emit(t)}_selectMonth(t){this.monthSelected.emit(t)}ok(){const t=this._dateAdapter.clone(this._selected);this._selectedChanged.next(t),this.close()}cancel(){this._selected=this._rawValue,this.close()}_registerInput(t){if(this.datepickerInput)throw Error("A NgxMatDatepicker can only be associated with a single input.");this.datepickerInput=t,this._inputSubscription=this.datepickerInput._valueChange.subscribe(a=>this._selected=a)}open(){if(this._rawValue=null!=this._selected?this._dateAdapter.clone(this._selected):null,null==this._selected&&(this._selected=this._dateAdapter.today(),null!=this.defaultTime&&this._dateAdapter.setTimeByDefaultValues(this._selected,this.defaultTime)),!this._opened&&!this.disabled){if(!this.datepickerInput)throw Error("Attempted to open an NgxMatDatepicker with no associated input.");this._document&&(this._focusedElementBeforeOpen=this._document.activeElement),this.touchUi?this._openAsDialog():this._openAsPopup(),this._opened=!0,this.openedStream.emit()}}close(){if(!this._opened)return;this._popupRef&&this._popupRef.hasAttached()&&this._popupRef.detach(),this._dialogRef&&(this._dialogRef.close(),this._dialogRef=null),this._calendarPortal&&this._calendarPortal.isAttached&&this._calendarPortal.detach();const t=()=>{this._opened&&(this._opened=!1,this.closedStream.emit(),this._focusedElementBeforeOpen=null)};this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus?(this._focusedElementBeforeOpen.focus(),setTimeout(t)):t()}_openAsDialog(){this._dialogRef&&this._dialogRef.close(),this._dialogRef=this._dialog.open(Vt,{direction:this._dir?this._dir.value:"ltr",viewContainerRef:this._viewContainerRef,panelClass:"mat-datepicker-dialog",hasBackdrop:this._hasBackdrop}),this._dialogRef.afterClosed().subscribe(()=>this.close()),this._dialogRef.componentInstance.datepicker=this,this._setColor()}_openAsPopup(){this._calendarPortal||(this._calendarPortal=new o.C5(Vt,this._viewContainerRef)),this._popupRef||this._createPopup(),this._popupRef.hasAttached()||(this._popupComponentRef=this._popupRef.attach(this._calendarPortal),this._popupComponentRef.instance.datepicker=this,this._setColor(),this._ngZone.onStable.asObservable().pipe((0,N.q)(1)).subscribe(()=>{this._popupRef.updatePosition()}))}_createPopup(){const t=new et.X_({positionStrategy:this._createPopupPositionStrategy(),hasBackdrop:this._hasBackdrop,backdropClass:"mat-overlay-transparent-backdrop",direction:this._dir,scrollStrategy:this._scrollStrategy(),panelClass:"mat-datepicker-popup"});this._popupRef=this._overlay.create(t),this._popupRef.overlayElement.setAttribute("role","dialog"),(0,w.T)(this._popupRef.backdropClick(),this._popupRef.detachments(),this._popupRef.keydownEvents().pipe((0,k.h)(a=>a.keyCode===h.hY||this.datepickerInput&&a.altKey&&a.keyCode===h.LH))).subscribe(a=>{a&&a.preventDefault(),this._hasBackdrop&&a?this.cancel():this.close()})}_createPopupPositionStrategy(){return this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition().withPositions([{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"}])}_getValidDateOrNull(t){return this._dateAdapter.isDateInstance(t)&&this._dateAdapter.isValid(t)?t:null}_setColor(){const t=this.color;this._popupComponentRef&&(this._popupComponentRef.instance.color=t),this._dialogRef&&(this._dialogRef.componentInstance.color=t)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(K.uw),e.Y36(et.aV),e.Y36(e.R0b),e.Y36(e.s_b),e.Y36(m.Uu),e.Y36(E,8),e.Y36(b.Is,8),e.Y36(c.K0,8))},r.\u0275cmp=e.Xpm({type:r,selectors:[["ngx-mat-datetime-picker"]],contentQueries:function(t,a,i){if(1&t&&e.Suo(i,e.Rgc,5),2&t){let s;e.iGM(s=e.CRH())&&(a._customIcon=s.first)}},inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",defaultColor:"defaultColor",color:"color",touchUi:"touchUi",hideTime:"hideTime",disabled:"disabled",panelClass:"panelClass",dateClass:"dateClass",opened:"opened",showSpinners:"showSpinners",showSeconds:"showSeconds",stepHour:"stepHour",stepMinute:"stepMinute",stepSecond:"stepSecond",enableMeridian:"enableMeridian",disableMinute:"disableMinute",defaultTime:"defaultTime"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",openedStream:"opened",closedStream:"closed"},exportAs:["ngxMatDatetimePicker"],decls:0,vars:0,template:function(t,a){},encapsulation:2,changeDetection:0}),r})();const Ce={provide:_.JU,useExisting:(0,e.Gpc)(()=>xt),multi:!0},De={provide:_.Cf,useExisting:(0,e.Gpc)(()=>xt),multi:!0};class it{constructor(n,t){this.target=n,this.targetElement=t,this.value=this.target.value}}let J,xt=(()=>{class r{constructor(t,a,i,s){if(this._elementRef=t,this._dateAdapter=a,this._dateFormats=i,this._formField=s,this.dateChange=new e.vpe,this.dateInput=new e.vpe,this._valueChange=new e.vpe,this.stateChanges=new e.vpe,this._onTouched=()=>{},this._cvaOnChange=()=>{},this._validatorOnChange=()=>{},this._datepickerSubscription=A.w0.EMPTY,this._localeSubscription=A.w0.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatetimePickerParse:{text:this._elementRef.nativeElement.value}},this._minValidator=d=>{const p=this._getValidDateOrNull(this._dateAdapter.deserialize(d.value));return!this.min||!p||this._dateAdapter.compareDateWithTime(this.min,p,this._datepicker.showSeconds)<=0?null:{matDatetimePickerMin:{min:this.min,actual:p}}},this._maxValidator=d=>{const p=this._getValidDateOrNull(this._dateAdapter.deserialize(d.value));return!this.max||!p||this._dateAdapter.compareDateWithTime(this.max,p,this._datepicker.showSeconds)>=0?null:{matDatetimePickerMax:{max:this.max,actual:p}}},this._filterValidator=d=>{const p=this._getValidDateOrNull(this._dateAdapter.deserialize(d.value));return this._dateFilter&&p&&!this._dateFilter(p)?{matDatetimePickerFilter:!0}:null},this._validator=_.kI.compose([this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]),this._lastValueValid=!1,!this._dateAdapter)throw O("NgxMatDateAdapter");if(!this._dateFormats)throw O("NGX_MAT_DATE_FORMATS");this._localeSubscription=a.localeChanges.subscribe(()=>{this.value=this.value})}set ngxMatDatetimePicker(t){!t||(this._datepicker=t,this._datepicker._registerInput(this),this._datepickerSubscription.unsubscribe(),this._datepickerSubscription=this._datepicker._selectedChanged.subscribe(a=>{this.value=a,this._cvaOnChange(a),this._onTouched(),this.dateInput.emit(new it(this,this._elementRef.nativeElement)),this.dateChange.emit(new it(this,this._elementRef.nativeElement))}))}set ngxMatDatetimePickerFilter(t){this._dateFilter=t,this._validatorOnChange()}get value(){return this._value}set value(t){t=this._dateAdapter.deserialize(t),this._lastValueValid=!t||this._dateAdapter.isValid(t),t=this._getValidDateOrNull(t);const a=this.value;this._value=t,this._formatValue(t),this._dateAdapter.sameDate(a,t)||this._valueChange.emit(t)}get min(){return this._min}set min(t){this._min=this._getValidDateOrNull(this._dateAdapter.deserialize(t)),this._validatorOnChange()}get max(){return this._max}set max(t){this._max=this._getValidDateOrNull(this._dateAdapter.deserialize(t)),this._validatorOnChange()}get disabled(){return!!this._disabled}set disabled(t){const a=null!=t&&"false"!=`${t}`,i=this._elementRef.nativeElement;this._disabled!==a&&(this._disabled=a,this.stateChanges.emit(void 0)),a&&i.blur&&i.blur()}ngOnDestroy(){this._datepickerSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this._valueChange.complete(),this.stateChanges.complete()}registerOnValidatorChange(t){this._validatorOnChange=t}validate(t){return this._validator?this._validator(t):null}getPopupConnectionElementRef(){return this.getConnectedOverlayOrigin()}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}writeValue(t){this.value=t}registerOnChange(t){this._cvaOnChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_onKeydown(t){this._datepicker&&t.altKey&&t.keyCode===h.JH&&!this._elementRef.nativeElement.readOnly&&(this._datepicker.open(),t.preventDefault())}_onInput(t){const a=this._lastValueValid;let i=this._dateAdapter.parse(t,this._dateFormats.parse.dateInput);this._lastValueValid=!i||this._dateAdapter.isValid(i),i=this._getValidDateOrNull(i);const s=this._dateAdapter.isSameTime(i,this._value);null!=i&&(!s||!this._dateAdapter.sameDate(i,this._value))||null==i&&null!=this._value?(this._value=i,this._cvaOnChange(i),this._valueChange.emit(i),this.dateInput.emit(new it(this,this._elementRef.nativeElement))):a!==this._lastValueValid&&this._validatorOnChange()}_onChange(){this.dateChange.emit(new it(this,this._elementRef.nativeElement))}_getThemePalette(){return this._formField?this._formField.color:void 0}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_onFocus(){this._datepicker&&this._datepicker.opened&&this._datepicker.cancel()}_formatValue(t){this._elementRef.nativeElement.value=t?this._dateAdapter.format(t,this._dateFormats.display.dateInput):""}_getValidDateOrNull(t){return this._dateAdapter.isDateInstance(t)&&this._dateAdapter.isValid(t)?t:null}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.SBq),e.Y36(E,8),e.Y36(L,8),e.Y36(M.KE,8))},r.\u0275dir=e.lG2({type:r,selectors:[["input","ngxMatDatetimePicker",""]],hostVars:5,hostBindings:function(t,a){1&t&&e.NdJ("input",function(s){return a._onInput(s.target.value)})("change",function(){return a._onChange()})("blur",function(){return a._onBlur()})("focus",function(){return a._onFocus()})("keydown",function(s){return a._onKeydown(s)}),2&t&&(e.Ikx("disabled",a.disabled),e.uIk("aria-haspopup",a._datepicker?"dialog":null)("aria-owns",(null==a._datepicker?null:a._datepicker.opened)&&a._datepicker.id||null)("min",a.min?a._dateAdapter.toIso8601(a.min):null)("max",a.max?a._dateAdapter.toIso8601(a.max):null))},inputs:{ngxMatDatetimePicker:"ngxMatDatetimePicker",ngxMatDatetimePickerFilter:"ngxMatDatetimePickerFilter",value:"value",min:"min",max:"max",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},exportAs:["ngxMatDatetimePickerInput"],features:[e._Bn([Ce,De,{provide:P.Jk,useExisting:r}])]}),r})(),Me=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[c.ez,P.c,_.UX,_.u5,I.Ps,C.ot]}),r})(),ye=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[m.Lv,{provide:At,useClass:ce}],imports:[c.ez,m.FA,K.Is,o.eL,_.u5,I.Ps,C.ot,P.c,Me]}),r})();try{J=typeof Intl<"u"}catch{J=!1}const be={long:["January","February","March","April","May","June","July","August","September","October","November","December"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"]},we=nt(31,r=>String(r+1)),Ae={long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"]},Te=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function nt(r,n){const t=Array(r);for(let a=0;a<r;a++)t[a]=n(a);return t}let Se=(()=>{class r extends E{constructor(t,a){super(),this.useUtcForDisplay=!0,super.setLocale(t),this.useUtcForDisplay=!a.TRIDENT,this._clampDate=a.TRIDENT||a.EDGE}getYear(t){return t.getFullYear()}getMonth(t){return t.getMonth()}getDate(t){return t.getDate()}getDayOfWeek(t){return t.getDay()}getMonthNames(t){if(J){const a=new Intl.DateTimeFormat(this.locale,{month:t,timeZone:"utc"});return nt(12,i=>this._stripDirectionalityCharacters(this._format(a,new Date(2017,i,1))))}return be[t]}getDateNames(){if(J){const t=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return nt(31,a=>this._stripDirectionalityCharacters(this._format(t,new Date(2017,0,a+1))))}return we}getDayOfWeekNames(t){if(J){const a=new Intl.DateTimeFormat(this.locale,{weekday:t,timeZone:"utc"});return nt(7,i=>this._stripDirectionalityCharacters(this._format(a,new Date(2017,0,i+1))))}return Ae[t]}getYearName(t){if(J){const a=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._stripDirectionalityCharacters(this._format(a,t))}return String(this.getYear(t))}getFirstDayOfWeek(){return 0}getNumDaysInMonth(t){return this.getDate(this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+1,0))}clone(t){return new Date(t.getTime())}createDate(t,a,i){if(a<0||a>11)throw Error(`Invalid month index "${a}". Month index has to be between 0 and 11.`);if(i<1)throw Error(`Invalid date "${i}". Date has to be greater than 0.`);let s=this._createDateWithOverflow(t,a,i);if(s.getMonth()!=a)throw Error(`Invalid date "${i}" for month with index "${a}".`);return s}today(){return new Date}parse(t){return"number"==typeof t?new Date(t):t?new Date(Date.parse(t)):null}format(t,a){if(!this.isValid(t))throw Error("NativeDateAdapter: Cannot format invalid date.");if(J){this._clampDate&&(t.getFullYear()<1||t.getFullYear()>9999)&&(t=this.clone(t)).setFullYear(Math.max(1,Math.min(9999,t.getFullYear()))),a={...a,timeZone:"utc"};const i=new Intl.DateTimeFormat(this.locale,a);return this._stripDirectionalityCharacters(this._format(i,t))}return this._stripDirectionalityCharacters(t.toDateString())}addCalendarYears(t,a){return this.addCalendarMonths(t,12*a)}addCalendarMonths(t,a){let i=this._createDateWithOverflow(this.getYear(t),this.getMonth(t)+a,this.getDate(t));return this.getMonth(i)!=((this.getMonth(t)+a)%12+12)%12&&(i=this._createDateWithOverflow(this.getYear(i),this.getMonth(i),0)),i}addCalendarDays(t,a){return this._createDateWithOverflow(this.getYear(t),this.getMonth(t),this.getDate(t)+a)}toIso8601(t){return[t.getUTCFullYear(),this._2digit(t.getUTCMonth()+1),this._2digit(t.getUTCDate())].join("-")}deserialize(t){if("string"==typeof t){if(!t)return null;if(Te.test(t)){let a=new Date(t);if(this.isValid(a))return a}}return super.deserialize(t)}isDateInstance(t){return t instanceof Date}isValid(t){return!isNaN(t.getTime())}invalid(){return new Date(NaN)}getHour(t){return t.getHours()}getMinute(t){return t.getMinutes()}getSecond(t){return t.getSeconds()}setHour(t,a){t.setHours(a)}setMinute(t,a){t.setMinutes(a)}setSecond(t,a){t.setSeconds(a)}_createDateWithOverflow(t,a,i){const s=new Date(t,a,i);return t>=0&&t<100&&s.setFullYear(this.getYear(s)-1900),s}_2digit(t){return("00"+t).slice(-2)}_stripDirectionalityCharacters(t){return t.replace(/[\u200e\u200f]/g,"")}_format(t,a){const i=new Date;return i.setUTCFullYear(a.getFullYear(),a.getMonth(),a.getDate()),i.setUTCHours(a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()),t.format(i)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(f.Ad,8),e.LFG(Z.t4))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();const Yt={year:"numeric",month:"numeric",day:"numeric",hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"},ke={parse:{dateInput:Yt},display:{dateInput:Yt,monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let Ne=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[{provide:E,useClass:Se}],imports:[Z.ud]}),r})(),Ie=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[{provide:L,useValue:ke}],imports:[Ne]}),r})();var Pt=l(29383);let Ve=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[f.uc,f.BQ,f.uc,f.BQ]}),r})();var Ct=l(1620),Ye=l(32460),Dt=l(48281),Ft=l(56370),Ht=l(37366),j=l(81547),Pe=l(85140),rt=l(89857),Re=l(52835),Zt=l(40930),Fe=l(29073),Mt=l(60079);const He=[{path:"",pathMatch:"full",redirectTo:"/feed"},{path:"create/:type",component:Mt.u,data:{breadcrumb:"Create Post"}},{path:":id/edit",canActivate:[Fe.F],component:Mt.u,data:{breadcrumb:"Edit Post",edit:!0}}];class st{static \u0275fac=function(t){return new(t||st)};static \u0275mod=e.oAB({type:st});static \u0275inj=e.cJS({imports:[Zt.Bz.forChild(He),Zt.Bz]})}var yt=l(95236),Jt=l(53100),Ze=l(92638),Je=l(92477),Ue=l(58046),Ge=l(405),Le=l(17733),Be=l(31415),Qe=l(51167),ze=l(10909),Ke=l(3878),q=l(53625),bt=l(93149);function We(r,n){if(1&r&&(e.TgZ(0,"div",13),e._UZ(1,"img",14),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("src",t.preview,e.LSH)}}function $e(r,n){1&r&&(e.ynx(0),e._uU(1),e.ALo(2,"translate"),e.BQk()),2&r&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"post.media.add_photo")," "))}function je(r,n){1&r&&(e._uU(0),e.ALo(1,"translate")),2&r&&e.hij(" ",e.lcZ(1,1,"post.media.replace_image")," ")}function qe(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"mzima-client-button",15),e.NdJ("buttonClick",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.deletePhoto())}),e._UZ(1,"mat-icon",16),e.qZA()}2&r&&e.Q6J("iconOnly",!0)("data-qa","btn-post-item-delete-photo")}function Xe(r,n){1&r&&(e.TgZ(0,"mat-error",17),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"post.image_is_required")," "))}function ta(r,n){1&r&&(e.TgZ(0,"mat-error",17),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"post.image_max_size")," "))}function ea(r,n){1&r&&(e.TgZ(0,"p"),e._uU(1," This field contains special characters "),e.qZA())}function aa(r,n){if(1&r){const t=e.EpF();e.TgZ(0,"div",18)(1,"mat-label"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"mat-form-field",19)(5,"input",20),e.NdJ("change",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.captionChanged())}),e.qZA()(),e.TgZ(6,"mat-error"),e.YNc(7,ea,2,0,"p",21),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,4,"post.media.add_caption")),e.xp6(3),e.Q6J("formControl",t.captionControl)("disabled",!!t.id),e.xp6(2),e.Q6J("ngIf",null==t.captionControl?null:t.captionControl.hasError("specialCharacters"))}}class X{sanitizer;confirm;translate;hasCaption;maxSizeError;requiredError;id;captionControl=new _.NI("");photo;preview;isDisabled=!1;upload=!1;onChange=()=>{};onTouched=()=>{};constructor(n,t,a){this.sanitizer=n,this.confirm=t,this.translate=a}writeValue(n){n&&(this.upload=!1,this.captionControl.patchValue(n.caption),this.id=n.id,this.photo=this.preview=n.photo)}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}setDisabledState(n){this.isDisabled=n}onFileSelected(n){const t=n.target;t.files&&t.files.length&&(this.photo=ze.qs.prepareImageFileToUpload(t.files[0]),this.upload=!0,this.preview=this.sanitizer.bypassSecurityTrustUrl(URL.createObjectURL(this.photo)),this.onChange({caption:this.captionControl.value,photo:this.photo,id:this.id,upload:this.upload}),this.id=void 0,t.value="")}deletePhoto(){var n=this;return(0,Be.Z)(function*(){!(yield n.confirm.open({title:n.translate.instant("notify.default.are_you_sure_you_want_to_delete_this"),description:n.translate.instant("notify.default.proceed_warning")}))||(n.photo=n.preview=null,n.onChange({caption:n.captionControl.value,photo:n.photo,id:n.id,delete:!0}))})()}captionChanged(){console.log(this.captionControl.value),this.onChange({caption:this.captionControl.value,photo:this.photo,id:this.id,upload:this.upload})}static \u0275fac=function(t){return new(t||X)(e.Y36(Ke.H7),e.Y36(Qe.h),e.Y36(j.sK))};static \u0275cmp=e.Xpm({type:X,selectors:[["app-image-uploader"]],inputs:{hasCaption:"hasCaption",maxSizeError:"maxSizeError",requiredError:"requiredError"},features:[e._Bn([{provide:_.JU,useExisting:(0,e.Gpc)(()=>X),multi:!0}])],decls:15,vars:9,consts:[[1,"image-loader"],[1,"image-loader__btn"],["class","image-loader__preview",4,"ngIf"],[1,"image-loader__controls"],["fill","outline","color","secondary",1,"image-loader__control",3,"data-qa","buttonClick"],[4,"ngIf","ngIfElse"],["changeButton",""],["icon","",3,"svgIcon"],["hidden","","type","file","accept","image/jpeg, image/png",3,"change"],["fileInput",""],["color","danger","class","image-loader__control image-loader__control--delete",3,"iconOnly","data-qa","buttonClick",4,"ngIf"],["class","error-msg",4,"ngIf"],["class","form-row",4,"ngIf"],[1,"image-loader__preview"],[3,"src"],["color","danger",1,"image-loader__control","image-loader__control--delete",3,"iconOnly","data-qa","buttonClick"],["icon","","svgIcon","delete"],[1,"error-msg"],[1,"form-row"],["appearance","outline"],["matInput","",3,"formControl","disabled","change"],[4,"ngIf"]],template:function(t,a){if(1&t){const i=e.EpF();e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,We,2,1,"div",2),e.TgZ(3,"div",3)(4,"mzima-client-button",4),e.NdJ("buttonClick",function(){e.CHM(i);const d=e.MAs(10);return e.KtG(d.click())}),e.YNc(5,$e,3,3,"ng-container",5),e.YNc(6,je,2,3,"ng-template",null,6,e.W1O),e._UZ(8,"mat-icon",7),e.qZA(),e.TgZ(9,"input",8,9),e.NdJ("change",function(d){return a.onFileSelected(d)}),e.qZA(),e.YNc(11,qe,2,2,"mzima-client-button",10),e.qZA(),e.YNc(12,Xe,3,3,"mat-error",11),e.YNc(13,ta,3,3,"mat-error",11),e.qZA(),e.YNc(14,aa,8,6,"div",12),e.qZA()}if(2&t){const i=e.MAs(7);e.xp6(2),e.Q6J("ngIf",a.preview),e.xp6(2),e.Q6J("data-qa","btn-post-item-upload"),e.xp6(1),e.Q6J("ngIf",!a.preview)("ngIfElse",i),e.xp6(3),e.Q6J("svgIcon",a.preview?"edit":"plus"),e.xp6(3),e.Q6J("ngIf",a.preview),e.xp6(1),e.Q6J("ngIf",a.requiredError),e.xp6(1),e.Q6J("ngIf",a.maxSizeError),e.xp6(1),e.Q6J("ngIf",a.hasCaption)}},dependencies:[c.O5,I.Hw,q.xG,M.TO,M.KE,M.hX,P.Nt,_.Fj,_.JJ,_.oH,bt.r,j.X$],styles:[".image-loader__preview[_ngcontent-%COMP%]{margin-bottom:24px}.image-loader__preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;max-width:100%;max-height:200px;object-fit:contain}.image-loader__controls[_ngcontent-%COMP%]{display:flex;margin:0 -4px;align-items:flex-start;justify-content:flex-start}.image-loader__control[_ngcontent-%COMP%]{margin:0 4px}.image-loader__control--delete[_ngcontent-%COMP%]{--size: 40px}.error-msg[_ngcontent-%COMP%]{margin-top:8px}"]})}var Ut=l(65504),ia=l(21876),Gt=l(6469),na=l(47288),Lt=l(23149),ra=l(54414);class ot{static \u0275fac=function(t){return new(t||ot)};static \u0275mod=e.oAB({type:ot});static \u0275inj=e.cJS({imports:[c.ez,st,yt.UO,j.aw,C.ot,I.Ps,K.Is,rt.Fm,f.si,rt.Z6,M.lN,P.c,Ut.AV,Ve,_.u5,rt.FH,_.UX,Ht.rP,Pt.p9,f.XK,m.FA,ye,Dt.Fk,Ct.ie,Ft.LD,Ye.Tx,rt.dr,Ie,Le.e,Pe.Pn,Re.JX]})}e.B6R(Mt.u,[c.mk,c.sg,c.O5,c.PC,I.Hw,Gt.O,q.zL,q.xG,M.TO,M.KE,M.bx,M.hX,M.R9,na.IC,P.Nt,Ut.gM,_._Y,_.Fj,_.wV,_.JJ,_.JL,_.c5,_.On,_.sg,_.u,Ht.Rr,Pt.oG,m.Mq,m.hl,m.nW,xe,xt,Dt.VQ,Dt.U0,Ct.Ub,Ct.vS,Ft.gD,f.ey,bt.r,Jt._,X],[c.Ov,c.i8,j.X$,Lt.p]),e.B6R(Jt._,[c.mk,c.O5,yt.je,yt.x,I.Hw,q.xG,M.KE,M.hX,M.R9,P.Nt,_.Fj,_.JJ,_.On,bt.r],[j.X$]),e.B6R(Ze.k,[c.mk,c.sg,c.O5,c.PC,I.Hw,Gt.O,q.xG,ra.Z,Je.g,Ue.I,Ge.$,ia.z],[Lt.p])},58046:(tt,V,l)=>{l.d(V,{I:()=>Y});var o=l(39609),e=l(80055),A=l(52954),D=l(6469),w=l(81547);function h(k,m){1&k&&o.Hsn(0,0,["*ngIf","!isTwitterScriptLoading"])}function N(k,m){1&k&&(o.ynx(0),o._UZ(1,"img",2),o.ALo(2,"translate"),o.BQk()),2&k&&(o.xp6(1),o.Q6J("alt",o.lcZ(2,1,"app.tweet_is_unavailable")))}function S(k,m){1&k&&o._UZ(0,"app-spinner",3)}const F=["*"];class Y{_elementRef;twitterService;_changeDetectorRef;id;tweet;loadingFailed=new o.vpe;isTwitterScriptLoading=!0;isTwitterFailed=!1;constructor(m,c,f){this._elementRef=m,this.twitterService=c,this._changeDetectorRef=f}ngOnInit(){this._loadTwitterScript()}_loadTwitterScript(){this.twitterService.loadScript().subscribe(m=>{this._updateTwitterScriptLoadingState(),m.widgets.createTweet(this.id,this._elementRef.nativeElement,{}).then(c=>{this.tweet=c,this.isTwitterScriptLoading=!1},()=>{this.isTwitterScriptLoading=!1}),setTimeout(()=>{this.isTwitterScriptLoading=!1,this.tweet||(this.isTwitterFailed=!0,this.loadingFailed.emit("Tweet failed to load"))},3e4)})}_updateTwitterScriptLoadingState(){this._changeDetectorRef.detectChanges()}static \u0275fac=function(c){return new(c||Y)(o.Y36(o.SBq),o.Y36(e.X),o.Y36(o.sBO))};static \u0275cmp=o.Xpm({type:Y,selectors:[["app-twitter-widget"]],inputs:{id:"id"},outputs:{loadingFailed:"loadingFailed"},ngContentSelectors:F,decls:3,vars:3,consts:[[4,"ngIf"],["class","spinner",4,"ngIf"],["src","/assets/images/tweet.svg",1,"tweet_failed",3,"alt"],[1,"spinner"]],template:function(c,f){1&c&&(o.F$t(),o.YNc(0,h,1,0,"ng-content",0),o.YNc(1,N,3,3,"ng-container",0),o.YNc(2,S,1,0,"app-spinner",1)),2&c&&(o.Q6J("ngIf",!f.isTwitterScriptLoading),o.xp6(1),o.Q6J("ngIf",f.isTwitterFailed),o.xp6(1),o.Q6J("ngIf",f.isTwitterScriptLoading))},dependencies:[A.O5,D.O,w.X$],styles:[".twitter-tweet{margin-top:0!important;margin-bottom:8px!important}.spinner[_ngcontent-%COMP%]{top:50%;left:50%;--size: 64px;position:absolute;transform:translate(-50%,-50%)}.tweet_failed[_ngcontent-%COMP%]{margin:0 auto;display:block;max-height:100%;max-width:220px;width:100%;object-fit:contain}"]})}}}]);
//# sourceMappingURL=948.62a84481a013f1b9.js.map